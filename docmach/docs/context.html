<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JetPath - Blazing Fast Backend Framework</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet"> 
 <link rel="stylesheet" href="/bundle.css">
<link rel="stylesheet" href="/custom-typography.css">
  <style> 
 
    :root {
      --primary: #6EE7B7;
      --primary-dark: #10B981;
      --secondary: #3B82F6;
      --secondary-dark: #2563EB;
      --dark: #0A0A0A;
      --dark-light: #121212;
      --dark-lighter: #1A1A1A;
      --text: #F9FAFB;
      --text-light: #D1D5DB;
      --text-lighter: #9CA3AF;
      --border: rgba(255, 255, 255, 0.1);
      --border-light: rgba(255, 255, 255, 0.05);
    }
 
    body {
      background-color: var(--dark);
      color: var(--text);
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow-x: hidden;
      line-height: 1.6;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    .container {
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1.5rem;
    }

    /* Header */
    .header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 100;
      background: rgba(10, 10, 10, 0.8);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--border);
      padding: 1rem 0;
      transition: all 0.3s ease;
    }

    .header-scrolled {
      background: rgba(10, 10, 10, 0.95);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    }

    .header-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      display: flex;
      align-items: center;
      font-weight: 700;
      font-size: 1.5rem;
    }

    .logo-text {
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      color: transparent;
    }

    .nav {
      display: flex;
      align-items: center;
      gap: 2rem;
    }

    .nav-link {
      font-weight: 500;
      transition: color 0.2s ease;
      position: relative;
    }

    .nav-link::after {
      content: '';
      position: absolute;
      bottom: -4px;
      left: 0;
      width: 0;
      height: 2px;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      transition: width 0.3s ease;
    }

    .nav-link:hover::after {
      width: 100%;
    }

    .nav-link:hover {
      color: var(--primary);
    }

    .btn {
      display: inline-block;
      padding: 0.75rem 1.5rem;
      border-radius: 0.5rem;
      font-weight: 600;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: var(--dark);
      border: none;
      box-shadow: 0 4px 14px rgba(59, 130, 246, 0.3);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4);
    }

    .btn-outline {
      background: transparent;
      color: var(--text);
      border: 1px solid var(--border);
    }

    .btn-outline:hover {
      border-color: var(--primary);
      color: var(--primary);
    }

    .mobile-menu-btn {
      display: none;
      padding: 0.5rem;
      border: none;
      background: transparent;
      cursor: pointer;
      z-index: 100;
    }

    .mobile-menu-btn svg {
      width: 24px;
      height: 24px;
    }

    .mobile-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 85;
    }

    @media (max-width: 1024px) {
      .mobile-menu-btn {
        display: block;
      }

      #doc-side-bar {
        position: fixed;
        top: 0;
        left: -256px;
        width: 256px;
        min-height: 100vh;
        height: 100%;
        background: rgba(10, 10, 10, 0.8);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border-right: 1px solid var(--border);
        z-index: 90;
        padding: 2rem 1rem;
        transition: left 0.3s ease;
      }

      #doc-side-bar.active {
        left: 0;
        display: block;
      }

      .mobile-overlay.active {
        display: block;
      }

      .main-content {
        margin-left: 0;
        padding: 4rem 1.5rem 1.5rem;
      }
    }

    /* Code Demo */
    .code-demo {
      width: 100%;
      max-width: 800px;
      margin: 0 auto;
      border-radius: 0.75rem;
      overflow: hidden;
      box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
      transform: translateY(0);
      transition: transform 0.3s ease;
    }

    .code-demo:hover {
      transform: translateY(-5px);
    }

    .code-header {
      display: flex;
      align-items: center;
      background: #1E1E1E;
      padding: 0.75rem 1rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .code-dots {
      display: flex;
      gap: 0.375rem;
      margin-right: 1rem;
    }

    .code-dot {
      width: 0.75rem;
      height: 0.75rem;
      border-radius: 50%;
    }

    .code-dot.red {
      background-color: #FF5F56;
    }

    .code-dot.yellow {
      background-color: #FFBD2E;
    }

    .code-dot.green {
      background-color: #27C93F;
    }

    .code-tabs {
      display: flex;
      gap: 1rem;
    }

    .code-tab {
      font-size: 0.875rem;
      color: var(--text-lighter);
      cursor: pointer;
      padding-bottom: 0.25rem;
      border-bottom: 2px solid transparent;
      transition: all 0.2s ease;
    }

    .code-tab.active {
      color: var(--primary);
      border-bottom-color: var(--primary);
    }

    .code-content {
      background: #1E1E1E;
      position: relative;
    }

    .code-wrapper {
      display: none;
    }

    .code-wrapper.active {
      display: block;
    }

    .copy-btn {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: rgba(255, 255, 255, 0.1);
      border: none;
      color: var(--text-lighter);
      padding: 0.375rem 0.75rem;
      border-radius: 0.25rem;
      font-size: 0.75rem;
      cursor: pointer;
      transition: all 0.2s ease;
      z-index: 2;
    }

    .copy-btn:hover {
      background: rgba(255, 255, 255, 0.2);
      color: var(--text);
    }

    pre {
      margin: 0 !important;
      padding: 1.5rem !important;
      overflow-x: auto;
      font-size: 0.9rem;
      line-height: 1.6;
      border-radius: 0;
    }

    code {
      font-family: 'Menlo', 'Monaco', 'Consolas', monospace;
    }

    /* Features Section */
    .section {
      padding: 6rem 0;
    }

    .section-title {
      font-size: 2.5rem;
      font-weight: 800;
      margin-bottom: 1rem;
      text-align: center;
    }

    .section-title span {
      background: linear-gradient(to right, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      color: transparent;
    }

    .section-subtitle {
      font-size: 1.125rem;
      color: var(--text-light);
      text-align: center;
      max-width: 700px;
      margin: 0 auto 3rem;
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
    }

    .feature-card {
      background: var(--dark-lighter);
      border: 1px solid var(--border);
      border-radius: 1rem;
      padding: 2rem;
      transition: all 0.3s ease;
      height: 100%;
      display: flex;
      flex-direction: column;
    }

    .feature-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      border-color: rgba(110, 231, 183, 0.3);
    }

    .feature-icon {
      width: 3rem;
      height: 3rem;
      background: linear-gradient(135deg, rgba(110, 231, 183, 0.2), rgba(59, 130, 246, 0.2));
      border-radius: 0.75rem;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 1.5rem;
    }

    .feature-icon svg {
      width: 1.5rem;
      height: 1.5rem;
      color: var(--primary);
    }

    .feature-title {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 0.75rem;
    }

    .feature-description {
      color: var(--text-light);
      font-size: 1rem;
      line-height: 1.6;
      flex-grow: 1;
    }

    /* Why JetPath Section */
    .why-jetpath {
      background: linear-gradient(to bottom, var(--dark), var(--dark-light));
    }

    .comparison-table {
      width: 100%;
      background: var(--dark-lighter);
      border-radius: 1rem;
      overflow: hidden;
      border: 1px solid var(--border);
      margin-top: 2rem;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    }

    .comparison-table thead {
      background: rgba(110, 231, 183, 0.1);
    }

    .comparison-table th,
    .comparison-table td {
      padding: 1rem 1.5rem;
      text-align: left;
      border-bottom: 1px solid var(--border);
    }

    .comparison-table th {
      font-weight: 600;
      color: var(--text);
    }

    .comparison-table td {
      color: var(--text-light);
    }

    .comparison-table tr:last-child td {
      border-bottom: none;
    }

    .highlight-cell {
      color: var(--primary) !important;
      font-weight: 600;
    }

    /* Performance Section */
    .performance {
      background: var(--dark);
      position: relative;
      overflow: hidden;
    }

    .performance::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background:
        radial-gradient(circle at 10% 90%, rgba(110, 231, 183, 0.08) 0%, transparent 50%);
      z-index: -1;
    }

    .benchmark-container {
      background: var(--dark-lighter);
      border: 1px solid var(--border);
      border-radius: 1rem;
      padding: 2rem;
      margin-top: 3rem;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    }

    .benchmark-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .benchmark-card {
      text-align: center;
    }

    .benchmark-value {
      font-size: 2.5rem;
      font-weight: 700;
      background: linear-gradient(to right, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      color: transparent;
      margin-bottom: 0.5rem;
    }

    .benchmark-label {
      color: var(--text-light);
      font-size: 0.875rem;
    }

    /* Ecosystem Section */
    .ecosystem {
      background: linear-gradient(to bottom, var(--dark-light), var(--dark));
    }

    .ecosystem-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
    }

    .ecosystem-card {
      background: var(--dark-lighter);
      border: 1px solid var(--border);
      border-radius: 1rem;
      padding: 2rem;
      transition: all 0.3s ease;
      text-align: center;
    }

    .ecosystem-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      border-color: rgba(59, 130, 246, 0.3);
    }

    .ecosystem-icon {
      width: 3.5rem;
      height: 3.5rem;
      margin: 0 auto 1.5rem;
      background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(110, 231, 183, 0.2));
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .ecosystem-icon svg {
      width: 1.75rem;
      height: 1.75rem;
      color: var(--secondary);
    }

    .ecosystem-title {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 0.75rem;
    }

    .ecosystem-description {
      color: var(--text-light);
      font-size: 1rem;
    }

    /* CTA Section */
    .cta {
      background: linear-gradient(to bottom right, var(--dark-light), #0B1120);
      padding: 6rem 0;
      position: relative;
      overflow: hidden;
    }

    .cta::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background:
        radial-gradient(circle at 80% 20%, rgba(59, 130, 246, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 20% 80%, rgba(110, 231, 183, 0.15) 0%, transparent 50%);
      z-index: -1;
    }

    .cta-content {
      max-width: 600px;
      margin: 0 auto;
      text-align: center;
    }

    .cta-title {
      font-size: 2.5rem;
      font-weight: 800;
      margin-bottom: 1.5rem;
    }

    .cta-description {
      color: var(--text-light);
      font-size: 1.125rem;
      margin-bottom: 2.5rem;
    }

    .cta-buttons {
      display: flex;
      justify-content: center;
      gap: 1rem;
    }

    /* Footer */
    .footer {
      background: var(--dark);
      padding: 4rem 0 2rem;
      border-top: 1px solid var(--border);
    }

    .footer-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 3rem;
      margin-bottom: 3rem;
    }

    .footer-brand {
      grid-column: 1 / -1;
    }

    @media (min-width: 768px) {
      .footer-brand {
        grid-column: auto;
      }
    }

    .footer-logo {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 1rem;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      color: transparent;
    }

    .footer-tagline {
      color: var(--text-light);
      font-size: 0.875rem;
      margin-bottom: 1.5rem;
    }

    .footer-social {
      display: flex;
      gap: 1rem;
    }

    .footer-social-link {
      width: 2rem;
      height: 2rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-light);
      transition: all 0.2s ease;
    }

    .footer-social-link:hover {
      background: rgba(110, 231, 183, 0.1);
      color: var(--primary);
      transform: translateY(-3px);
    }

    .footer-heading {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 1.25rem;
    }

    .footer-links {
      list-style: none;
    }

    .footer-link {
      margin-bottom: 0.75rem;
    }

    .footer-link a {
      color: var(--text-light);
      font-size: 0.9rem;
      transition: color 0.2s ease;
    }

    .footer-link a:hover {
      color: var(--primary);
    }

    .footer-bottom {
      border-top: 1px solid var(--border);
      padding-top: 2rem;
      text-align: center;
      color: var(--text-lighter);
      font-size: 0.875rem;
    }

    /* Animations */
    @keyframes float {

      0%,
      100% {
        transform: translateY(0);
      }

      50% {
        transform: translateY(-15px);
      }
    }

    .float-animation {
      animation: float 6s ease-in-out infinite;
    }

    /* Media Queries */
    @media (max-width: 768px) {
      .nav {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        flex-direction: column;
        align-items: center;
        gap: 1rem;
        padding: 1.5rem;
        background: rgba(10, 10, 10, 0.95);
        backdrop-filter: blur(10px);
        -webkit-backpack-filter: blur(10px);
        border-bottom: 1px solid var(--border);
      }

      .nav.active {
        display: flex;
      }

      .mobile-menu-btn {
        display: block;
      }

      .hero-title {
        font-size: 2.5rem;
      }

      .hero-cta {
        flex-direction: column;
      }

      .code-demo {
        border-radius: 0.5rem;
      }

      .section-title {
        font-size: 2rem;
      }

      .cta-title {
        font-size: 2rem;
      }

      .cta-buttons {
        flex-direction: column;
      }
    }

    /* Additional enhancements inspired by Elysia.js */
    .custom-shape {
      position: absolute;
      width: 500px;
      height: 500px;
      filter: blur(100px);
      opacity: 0.15;
      z-index: -1;
    }

    .shape-1 {
      background: var(--primary);
      top: 10%;
      right: -200px;
      border-radius: 100% 0 0 100%;
    }

    .shape-2 {
      background: var(--secondary);
      bottom: -200px;
      left: -100px;
      border-radius: 100%;
    }

    /* Interactive feature buttons */
    .interactive-features {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 3rem;
    }

    .feature-btn {
      background: var(--dark-lighter);
      border: 1px solid var(--border);
      color: var(--text-light);
      padding: 0.75rem 1.5rem;
      border-radius: 0.5rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .feature-btn:hover,
    .feature-btn.active {
      background: linear-gradient(135deg, rgba(110, 231, 183, 0.1), rgba(59, 130, 246, 0.1));
      border-color: rgba(110, 231, 183, 0.3);
      color: var(--primary);
      transform: translateY(-3px);
    }

    /* Terminal Animation */
    .terminal {
      position: relative;
      width: 100%;
      max-width: 800px;
      margin: 3rem auto 0;
      border-radius: 0.75rem;
      overflow: hidden;
      box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
    }

    .terminal-header {
      display: flex;
      align-items: center;
      background: #1E1E1E;
      padding: 0.75rem 1rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .terminal-title {
      margin-left: 1rem;
      font-size: 0.875rem;
      color: var(--text-lighter);
    }

    .terminal-body {
      background: #0D1017;
      padding: 1.5rem;
      font-family: 'Menlo', 'Monaco', 'Consolas', monospace;
      font-size: 0.875rem;
      color: var(--text-light);
      line-height: 1.7;
    }

    .terminal-line {
      display: flex;
      margin-bottom: 0.5rem;
    }

    .terminal-prompt {
      color: var(--primary);
      margin-right: 0.75rem;
      user-select: none;
    }

    .terminal-output {
      opacity: 0;
      animation: fadeIn 0.5s ease forwards;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }

    .terminal-cursor {
      display: inline-block;
      width: 0.5rem;
      height: 1.2rem;
      background: var(--primary);
      margin-left: 2px;
      animation: blink 1s infinite;
    }

    @keyframes blink {

      0%,
      100% {
        opacity: 1;
      }

      50% {
        opacity: 0;
      }
    }

    .terminal-typing {
      position: relative;
    }

    .terminal-typing::after {
      content: '|';
      position: absolute;
      right: -10px;
      animation: blink 1s infinite;
    }

    /* Cursor highlight effect */
    .cursor-highlight {
      position: fixed;
      width: 300px;
      height: 300px;
      border-radius: 50%;
      pointer-events: none;
      background: radial-gradient(circle, rgba(110, 231, 183, 0.1) 0%, rgba(110, 231, 183, 0) 70%);
      transform: translate(-50%, -50%);
      z-index: -1;
      opacity: 0;
      transition: opacity 0.3s ease-out;
    }

    /* Section specific styles */
    .section-padding {
      padding-top: 5rem;
      /* Increased padding */
      padding-bottom: 5rem;
      /* Increased padding */
      padding-left: 1.5rem;
      /* px-6 */
      padding-right: 1.5rem;
      /* px-6 */
    }

    @media (min-width: 768px) {

      /* md: */
      .section-padding {
        padding-left: 3rem;
        /* md:px-12 */
        padding-right: 3rem;
        /* md:px-12 */
      }
    }

    @media (min-width: 1024px) {

      /* lg: */
      .section-padding {
        padding-left: 6rem;
        /* lg:px-24 */
        padding-right: 6rem;
        /* lg:px-24 */
      }
    }

    .section-title {
      font-size: 2.25rem;
      /* text-4xl */
      font-weight: 800;
      /* font-extrabold */
      text-align: center;
      margin-bottom: 3rem;
      /* mb-12 */
    }

    @media (min-width: 768px) {

      /* md: */
      .section-title {
        font-size: 2.75rem;
        /* md:text-5xl */
        margin-bottom: 4rem;
        /* md:mb-16 */
      }
    }
 

    .red {
      border: 1px red solid;
    }


        .logo-container {
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    .search-bar-container {
      flex-grow: 1;
      max-width: 400px;
    }

    .search-bar {
      position: relative;
      display: flex;
      align-items: center;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid var(--border);
      border-radius: 0.5rem;
      padding: 0.5rem 1rem;
      transition: all 0.3s ease;
      width: 100%;
      max-width: 100%;
    }

    .search-bar:focus-within {
      border-color: var(--primary);
      box-shadow: 0 0 0 2px rgba(110, 231, 183, 0.2);
    }

    .search-input {
      background: transparent;
      border: none;
      color: var(--text);
      font-size: 1rem;
      width: 100%;
      outline: none;
    }

    .search-bar svg {
      margin-right: 0.5rem;
    }

    /* Media Queries */
   
    /* Media Queries */
    @media (max-width: 768px) {
      .header-container {
        /* flex-wrap: wrap; */
        display: grid;
        grid-template-rows: 1fr 1fr;
      }
      .shape-1, .shape-2 {
        display: none;
      }
      .header-container.container {
        width: 100%;
        padding: 12px;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
      }

      .search-bar-container {
        flex-basis: 100%;
        max-width: 100%;
        margin-bottom: 0.5rem;
      }
      .header-container .flex.w-full.justify-between {
        min-width: 80vw;
        margin: 0 auto;
      }

      .search-bar {
        max-width: 100%;
      }
    }

    :not(pre)>code[class*=language-], pre[class*=language-] {
      background-color: unset !important;
    }

    #doc-side-bar {
      position: fixed;
      top: 0;
      left: 0;
      width: 256px;
      height: 100vh;
      background: rgba(10, 10, 10, 0.8);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-right: 1px solid var(--border);
      z-index: 90;
      padding: 4rem 1rem 1rem;
    }

    .main-content {
      margin-left: 256px;
      padding: 4rem 1.5rem 1.5rem;
    }

    @media (max-width: 1024px) {
      #doc-side-bar {
        display: none;
      }
      .main-content {
        margin-left: 0;
        padding: 4rem 1.5rem 1.5rem;
      }
    }
  </style>

  <link href="/prism.css" rel="stylesheet" />

</head>

<body>
  <!-- Cursor highlight effect -->
  <div class="cursor-highlight"></div>

  <!-- Decorative shapes -->
  <div class="custom-shape shape-1"></div>
  <div class="custom-shape shape-2"></div>
 
 <!-- Header -->
  <header class="header w-full">
    <div class="container header-container w-full">
      <div class="flex w-full justify-between">

        <div class="logo-container">
          <a href="/" title="JetPath" class="logo">
            <div class="flex gap-1">
              <img src="/icon-transparent.webp" class="h-[88px]" alt="">
          </div>
        </a>
        <a href="/" class="logo">
          <span class="logo-text">JetPath</span>
        </a>
      </div>
        <button class="mobile-menu-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="3" y1="12" x2="21" y2="12"></line>
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
        </button>
      </div>

      <!-- Search Bar -->
      <div class="search-bar-container">
        <div class="search-bar">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="11" cy="11" r="8"></circle>
            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
          </svg>
          <input type="text" class="search-input" placeholder="Search...">
        </div>
      </div>

      <nav class="nav lg:ml-6">  
        <a href="/docs/introduction.html" class="nav-link">Docs</a>
        <a href="/docs/performance" class="nav-link">Performance</a>
        <a href="/docs/ecosystem" class="nav-link">Ecosystem</a>
        <a href="https://github.com/CodeDynasty-dev/JetPath" target="_blank" class="btn btn-outline">GitHub</a>
        <!-- <a href="/docs/introduction.html" class="btn btn-primary">Get Started</a> -->
      </nav>
    </div>
  </header>
 
  <div class="mobile-overlay"></div>

  <!-- Sidebar -->
  <aside id="doc-side-bar" class="w-full lg:w-64 lg:flex-shrink-0 mb-8 lg:mb-0 bg-gray-900 text-gray-200 hidden lg:block mt-14 max-md:mt-[8rem]">
    <nav class="sticky top-[calc(4rem+1px+2rem)] h-full">
      <!-- Search -->
      <div class="px-4 py-6">
        <div class="relative">  
          <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
            <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" />
            </svg> 
          </div>
          <input type="text" name="doc-search" id="doc-search" class="block w-full pl-10 pr-3 py-2 border border-gray-700 rounded-md bg-gray-800 text-gray-300 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500 sm:text-sm" placeholder="Search documentation">
        </div>
      </div>

      <!-- Navigation Links -->
      <div class="space-y-2">
        <!-- Getting Started Section -->
        <div class="px-4">
          <div class="flex items-center justify-between text-gray-400 cursor-pointer hover:text-white" data-section="getting-started">
            <div class="flex items-center">
              <svg class="w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4" />
              </svg>
              <span class="text-sm font-medium">Getting Started</span>
            </div>
            <svg class="w-4 h-4 transform transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
          </div>
          <div class="space-y-1 pl-6 mt-2" id="getting-started-content">
            <a href="/docs/introduction.html" class="block px-3 py-2 rounded-md text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200">Introduction</a>
            <a href="/docs/installation.html" class="block px-3 py-2 rounded-md text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200">Installation</a>
            <a href="/docs/quickstart.html" class="block px-3 py-2 rounded-md text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200">Quick Start</a>
          </div>
        </div>

        <!-- Core Concepts Section -->
        <div class="px-4">
          <div class="flex items-center justify-between text-gray-400 cursor-pointer hover:text-white" data-section="core-concepts">
            <div class="flex items-center">
              <svg class="w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
              </svg>
              <span class="text-sm font-medium">Core Concepts</span>
            </div>
            <svg class="w-4 h-4 transform transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
          </div>
          <div class="space-y-1 pl-6 mt-2" id="core-concepts-content">
            <a href="/docs/routing.html" class="block px-3 py-2 rounded-md text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200">Routing</a>
            <a href="/docs/middleware.html" class="block px-3 py-2 rounded-md text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200">Middleware</a>
            <a href="/docs/context.html" class="block px-3 py-2 rounded-md text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200">Context (ctx)</a>
            <a href="/docs/error-handling.html" class="block px-3 py-2 rounded-md text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200">Error Handling</a>
          </div>
        </div>

        <!-- Advanced Section -->
        <div class="px-4">
          <div class="flex items-center justify-between text-gray-400 cursor-pointer hover:text-white" data-section="advanced">
            <div class="flex items-center">
              <svg class="w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
              </svg>
              <span class="text-sm font-medium">Advanced</span>
            </div>
            <svg class="w-4 h-4 transform transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
          </div>
          <div class="space-y-1 pl-6 mt-2" id="advanced-content">
            <a href="/docs/plugins.html" class="block px-3 py-2 rounded-md text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200">Plugins</a>
            <a href="/docs/dependency-injection.html" class="block px-3 py-2 rounded-md text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200">Dependency Injection</a>
            <a href="/docs/testing.html" class="block px-3 py-2 rounded-md text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200">Testing</a>
            <a href="/docs/deployment.html" class="block px-3 py-2 rounded-md text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200">Deployment</a>
          </div>
        </div>

        <!-- API Reference Section -->
        <div class="px-4">
          <div class="flex items-center justify-between text-gray-400 cursor-pointer hover:text-white" data-section="api-reference">
            <div class="flex items-center">
              <svg class="w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
              </svg>
              <span class="text-sm font-medium">API Reference</span>
            </div>
            <svg class="w-4 h-4 transform transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
          </div>
          <div class="space-y-1 pl-6 mt-2" id="api-reference-content">
            <a href="/docs/api-reference/types.html" class="block px-3 py-2 rounded-md text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200">Types</a>
              <a href="/docs/api-reference/context.html" class="block px-3 py-2 rounded-md text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200">Context</a>
          </div>
        </div>
      </div>
    </nav>
  </aside>

  <main class="main-content">
    <script>
      // Initialize sections
      document.querySelectorAll('[data-section]').forEach(section => {
        const contentId = section.dataset.section + '-content';
        const content = document.getElementById(contentId);
        const arrow = section.querySelector('svg');
        
        // Add click handler
        section.addEventListener('click', () => {
          content.classList.toggle('hidden');
          arrow.classList.toggle('rotate-90');
        });
      });

      // Add active state to current page
      const currentPath = window.location.pathname;
      document.querySelectorAll('#doc-side-bar a').forEach(link => {
        if (link.getAttribute('href') === currentPath) {
          link.classList.add('bg-gray-700', 'text-white', 'font-medium');
        }
      });

      // Add smooth scroll behavior
      document.querySelectorAll('#doc-side-bar a').forEach(link => {
        link.addEventListener('click', (e) => {
          e.preventDefault();
          const href = link.getAttribute('href');
          if (href.startsWith('#')) {
            const target = document.querySelector(href);
            if (target) {
              const headerHeight = document.querySelector('.header').offsetHeight;
              const elementPosition = target.getBoundingClientRect().top;
              const offsetPosition = elementPosition + window.pageYOffset - headerHeight;

              window.scrollTo({
                top: offsetPosition,
                behavior: 'smooth'
              });

              // Close mobile menu if open
              nav.classList.remove('active');
            }
          } else {
            window.location.href = href;
          }
        });
      });
    </script>
    <section class="max-w-4xl mx-auto my-8 mt-[15rem]" >
      <h1>Core Concepts: Context (<code>ctx</code>)</h1>
<p>The <code>Context</code> object, universally referred to as <code>ctx</code> in JetPath, is the central nervous system for handling individual HTTP requests within your application. It acts as a container for request data, a toolkit for crafting responses, an access point for framework features like plugins and validation, and a temporary state holder for the duration of a single request-response cycle. Understanding <code>ctx</code> is key to mastering JetPath.</p>
<hr>
<h2>Overview</h2>
<p><code>ctx</code> provides a consistent, runtime-agnostic interface whether you’re running on Node.js, Deno, or Bun. It simplifies common web development tasks and integrates seamlessly with TypeScript for enhanced type safety.</p>
<p>Its type signature reveals its capabilities:</p>
<pre><code class="language-typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">ContextType</span>&lt;
  // <span class="hljs-title class_">Defines</span> expected shapes for body, params, query
  <span class="hljs-title class_">JetData</span> <span class="hljs-keyword">extends</span> {
    <span class="hljs-attr">body</span>?: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;;
    <span class="hljs-attr">params</span>?: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;;
    <span class="hljs-attr">query</span>?: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;;
  },
  <span class="hljs-comment">// Defines types for registered plugins</span>
  <span class="hljs-title class_">JetPluginTypes</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">unknown</span>&gt;[]
&gt; {
  <span class="hljs-comment">// ... properties and methods detailed below</span>
}
</code></pre>
<hr>
<h2>Properties</h2>
<h3><code>app: {}</code></h3>
<ul>
<li><strong>Type:</strong> <code>object</code> (Extendable via <code>JetMiddleware</code> generic)</li>
<li><strong>Description:</strong> A request-scoped, mutable object. Use it to share information between middleware and route handlers for a single request. For example, authentication middleware can verify a user and attach user details to <code>ctx.app</code> for the route handler to use. Define its shape using the <code>AppState</code> generic in <code>JetMiddleware</code> for type safety.</li>
<li><strong>Example 1: Attaching User Data in Middleware</strong><pre><code class="language-typescript"><span class="hljs-comment">// In middleware:</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">MIDDLEWARE_</span>: <span class="hljs-title class_">JetMiddleware</span>&lt;{ <span class="hljs-attr">user</span>?: { <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">role</span>: <span class="hljs-built_in">string</span> } }, [<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">AuthPlugin</span>]&gt; = <span class="hljs-function">(<span class="hljs-params">ctx</span>) =&gt;</span> {
  <span class="hljs-comment">// ... check for public routes ...</span>
  <span class="hljs-keyword">const</span> authResult = ctx.<span class="hljs-property">plugins</span>.<span class="hljs-title function_">verifyAuth</span>(ctx); <span class="hljs-comment">// Assuming verifyAuth plugin</span>
  <span class="hljs-keyword">if</span> (authResult.<span class="hljs-property">authenticated</span>) {
    ctx.<span class="hljs-property">app</span>.<span class="hljs-property">user</span> = authResult.<span class="hljs-property">user</span>; <span class="hljs-comment">// Attach user data</span>
  } <span class="hljs-keyword">else</span> {
     <span class="hljs-comment">// Handle unauthenticated...</span>
  }
  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">ctx, err</span>) =&gt;</span> { <span class="hljs-comment">/* ... post-handler ... */</span> };
};
</code></pre>
</li>
<li><strong>Example 2: Accessing App State in Handler</strong><pre><code class="language-typescript"><span class="hljs-comment">// In route handler (e.g., POST_pets):</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> POST_pets = <span class="hljs-title function_">defineHandler</span>({
  <span class="hljs-comment">// ... schema ...</span>
  <span class="hljs-attr">handler</span>: <span class="hljs-title function_">async</span> (ctx) =&gt; {
    <span class="hljs-comment">// Check if user exists and has the admin role</span>
    <span class="hljs-keyword">if</span> (ctx.<span class="hljs-property">app</span>.<span class="hljs-property">user</span>?.<span class="hljs-property">role</span> !== <span class="hljs-string">&#x27;admin&#x27;</span>) {
      ctx.<span class="hljs-keyword">throw</span>(<span class="hljs-number">403</span>, <span class="hljs-string">&quot;Admin privileges required&quot;</span>); <span class="hljs-comment">// Throw forbidden error</span>
    }
    <span class="hljs-comment">// Proceed with admin-only logic...</span>
    <span class="hljs-comment">// ...</span>
  }
});
</code></pre>
<em>[cite: tests/app.jet.ts]</em></li>
</ul>
<h3><code>plugins: UnionToIntersection&lt;JetPluginTypes[number]&gt; &amp; Record&lt;string, any&gt;</code></h3>
<ul>
<li><strong>Type:</strong> Dynamic (Based on registered plugins)</li>
<li><strong>Description:</strong> Your gateway to functionality added by plugins registered via <code>app.use()</code>. The specific methods available depend entirely on the plugins you’ve installed and registered. Use TypeScript generics (like <code>JetMiddleware&lt;AppState, [typeof PluginA, typeof PluginB]&gt;</code>) to get type hints for available plugin methods.</li>
<li><strong>Example 1: Using an Auth Plugin</strong><pre><code class="language-typescript"><span class="hljs-comment">// Assuming AuthPlugin provides &#x27;authenticateUser&#x27;</span>
<span class="hljs-comment">// In POST_auth_login handler:</span>
<span class="hljs-keyword">const</span> authResult = ctx.<span class="hljs-property">plugins</span>.<span class="hljs-title function_">authenticateUser</span>(username, password);
<span class="hljs-keyword">if</span> (!authResult.<span class="hljs-property">authenticated</span>) { <span class="hljs-comment">/* handle failure */</span> }
</code></pre>
<em>[cite: tests/app.jet.ts]</em></li>
<li><strong>Example 2: Using a File Upload Plugin</strong><pre><code class="language-typescript"><span class="hljs-comment">// Assuming jetbusboy plugin provides &#x27;formData&#x27;</span>
<span class="hljs-comment">// In POST_upload handler:</span>
<span class="hljs-keyword">const</span> form = <span class="hljs-keyword">await</span> ctx.<span class="hljs-property">plugins</span>.<span class="hljs-title function_">formData</span>(ctx);
<span class="hljs-keyword">const</span> imageFile = form.<span class="hljs-property">image</span>; <span class="hljs-comment">// Access uploaded file data</span>
<span class="hljs-keyword">if</span> (imageFile &amp;&amp; imageFile.<span class="hljs-property">filename</span>) {
    <span class="hljs-keyword">await</span> imageFile.<span class="hljs-title function_">saveTo</span>(<span class="hljs-string">`./public/uploads/<span class="hljs-subst">${imageFile.filename}</span>`</span>);
}
</code></pre>
<em>[cite: tests/app.jet.ts]</em></li>
</ul>
<h3><code>body: JetData[&quot;body&quot;]</code></h3>
<ul>
<li><strong>Type:</strong> Inferred from Schema (<code>JetData</code> generic)</li>
<li><strong>Description:</strong> Represents the <em>parsed</em> request body. It’s crucial to understand that <code>ctx.body</code> is typically <code>undefined</code> until you explicitly parse the request body using a method like <code>await ctx.json()</code>, <code>await ctx.plugins.formData(ctx)</code>, or implicitly via <code>ctx.validate()</code> if it handles parsing, <em>unless</em> you have enabled opt-in eager pre-processing for the route.</li>
<li><strong>Example:</strong><pre><code class="language-typescript"><span class="hljs-comment">// For a POST request with JSON: { &quot;name&quot;: &quot;Fluffy&quot;, &quot;age&quot;: 3 }</span>
<span class="hljs-comment">// Define schema: const PetSchema = t.object({ name: t.string(), age: t.number() });</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> POST_pets = <span class="hljs-title function_">defineHandler</span>({
  <span class="hljs-attr">schema</span>: { <span class="hljs-attr">body</span>: <span class="hljs-title class_">PetSchema</span> },
  <span class="hljs-comment">// Assuming NO pre-processing:</span>
  <span class="hljs-attr">handler</span>: <span class="hljs-title function_">async</span> (ctx) =&gt; {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ctx.<span class="hljs-property">body</span>); <span class="hljs-comment">// undefined (initially)</span>
    <span class="hljs-keyword">await</span> ctx.<span class="hljs-title function_">json</span>();      <span class="hljs-comment">// Parse the JSON body</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ctx.<span class="hljs-property">body</span>); <span class="hljs-comment">// { name: &quot;Fluffy&quot;, age: 3 }</span>
    <span class="hljs-keyword">const</span> name = ctx.<span class="hljs-property">body</span>.<span class="hljs-property">name</span>; <span class="hljs-comment">// Access data</span>
    <span class="hljs-comment">// ... validation and logic ...</span>
  }
});
</code></pre>
</li>
</ul>
<h3><code>query: JetData[&quot;query&quot;]</code></h3>
<ul>
<li><strong>Type:</strong> Inferred from Schema (<code>JetData</code> generic), defaults to <code>Record&lt;string, string | string[]&gt;</code></li>
<li><strong>Description:</strong> An object containing key-value pairs from the URL’s query string (the part after <code>?</code>). Values are initially strings or arrays of strings (for repeated keys). Use validation to enforce specific types (like numbers or booleans).</li>
<li><strong>Example 1: Basic Access</strong><pre><code class="language-typescript"><span class="hljs-comment">// URL: /search?term=cats&amp;limit=20</span>
<span class="hljs-comment">// In handler:</span>
<span class="hljs-keyword">const</span> searchTerm = ctx.<span class="hljs-property">query</span>.<span class="hljs-property">term</span>;   <span class="hljs-comment">// &quot;cats&quot;</span>
<span class="hljs-keyword">const</span> limitStr = ctx.<span class="hljs-property">query</span>.<span class="hljs-property">limit</span>; <span class="hljs-comment">// &quot;20&quot;</span>
</code></pre>
</li>
<li><strong>Example 2: Using with Validation</strong><pre><code class="language-typescript"><span class="hljs-comment">// Schema: const SearchQuerySchema = t.object({ term: t.string(), limit: t.coerce.number().positive().optional().default(10) });</span>
<span class="hljs-comment">// In handler:</span>
<span class="hljs-keyword">const</span> validatedQuery = ctx.<span class="hljs-title function_">validate</span>(<span class="hljs-title class_">SearchQuerySchema</span>); <span class="hljs-comment">// Validate ctx.query</span>
<span class="hljs-keyword">const</span> limit = validatedQuery.<span class="hljs-property">limit</span>; <span class="hljs-comment">// 10 (number, default applied)</span>
</code></pre>
<em>[cite: tests/app.jet.ts (GET_pets example uses query params)]</em></li>
</ul>
<h3><code>params: JetData[&quot;params&quot;]</code></h3>
<ul>
<li><strong>Type:</strong> Inferred from Schema (<code>JetData</code> generic), defaults to <code>Record&lt;string, string&gt;</code></li>
<li><strong>Description:</strong> An object containing values captured from dynamic segments in the route path (defined using <code>$paramName</code> in file/export names).</li>
<li><strong>Example:</strong><pre><code class="language-typescript"><span class="hljs-comment">// Route defined for /pets/petBy/:id (e.g., GET_petBy$id)</span>
<span class="hljs-comment">// Request URL: /pets/petBy/cat-567</span>
<span class="hljs-comment">// In handler:</span>
<span class="hljs-keyword">const</span> petIdentifier = ctx.<span class="hljs-property">params</span>.<span class="hljs-property">id</span>; <span class="hljs-comment">// &quot;cat-567&quot;</span>
<p><span class="hljs-comment">// Schema: const PetParamsSchema = t.object({ id: t.string().startsWith(&quot;cat-&quot;) });</span>
<span class="hljs-comment">// const validatedParams = ctx.validate(PetParamsSchema); // Validate ctx.params</span>
<span class="hljs-comment">// const petId = validatedParams.id;</span>
</code></pre>
<em>[cite: tests/app.jet.ts (GET_petBy$id, PUT_petBy$id, etc.)]</em></li></p>
</ul>
<h3><code>connection: jet_socket</code></h3>
<ul>
<li><strong>Type:</strong> <code>jet_socket</code></li>
<li><strong>Description:</strong> Provides access to the WebSocket connection object. This property is only relevant and available within WebSocket handlers (routes defined with <code>WS_</code>).</li>
<li><strong>Example:</strong><pre><code class="language-typescript"><span class="hljs-comment">// Route: WS_live</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">WS_live</span>: <span class="hljs-title class_">JetFunc</span> = <span class="hljs-function">(<span class="hljs-params">ctx</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> conn = ctx.<span class="hljs-property">connection</span>!; <span class="hljs-comment">// Assert non-null for WS routes</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Client connected via WebSocket&quot;</span>);
<p>conn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;open&quot;</span>, <span class="hljs-function">(<span class="hljs-params">socket</span>) =&gt;</span> {
socket.<span class="hljs-title function_">send</span>(<span class="hljs-string">&quot;Welcome to the live feed!&quot;</span>);
});</p>
<p>conn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;message&quot;</span>, <span class="hljs-function">(<span class="hljs-params">socket, event</span>) =&gt;</span> {
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Received message:&quot;</span>, event.<span class="hljs-property">data</span>);
socket.<span class="hljs-title function_">send</span>(<span class="hljs-string"><code>You sent: &lt;span class=&quot;hljs-subst&quot;&gt;${event.data}&lt;/span&gt;</code></span>);
});</p>
<p>conn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;close&quot;</span>, <span class="hljs-function">() =&gt;</span> {
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Client disconnected&quot;</span>);
});
};
</code></pre>
<em>[cite: tests/app.jet.ts]</em></li></p>
</ul>
<h3><code>request: Request</code></h3>
<ul>
<li><strong>Type:</strong> <code>Request</code> (Web Standard)</li>
<li><strong>Description:</strong> Access the underlying standard <code>Request</code> object. Useful for lower-level access to request details like headers map, method, URL object, or potentially reading the raw body stream.</li>
<li><strong>Example:</strong><pre><code class="language-typescript"><span class="hljs-keyword">const</span> method = ctx.<span class="hljs-property">request</span>.<span class="hljs-property">method</span>; <span class="hljs-comment">// &quot;GET&quot;, &quot;POST&quot;, etc.</span>
<span class="hljs-keyword">const</span> url = <span class="hljs-keyword">new</span> <span class="hljs-title function_">URL</span>(ctx.<span class="hljs-property">request</span>.<span class="hljs-property">url</span>);
<span class="hljs-keyword">const</span> pathname = url.<span class="hljs-property">pathname</span>;
<span class="hljs-comment">// Potentially access raw body: const reader = ctx.request.body?.getReader();</span>
</code></pre>
</li>
</ul>
<h3><code>code: number</code></h3>
<ul>
<li><strong>Type:</strong> <code>number</code></li>
<li><strong>Description:</strong> Gets or sets the HTTP status code for the outgoing response. Modify this before calling <code>ctx.send</code> or <code>ctx.throw</code> to control the response status. Defaults to <code>200</code> if <code>ctx.send</code> is called without errors.</li>
<li><strong>Example 1: Setting Success Code</strong><pre><code class="language-typescript"><span class="hljs-comment">// After creating a resource:</span>
ctx.<span class="hljs-property">code</span> = <span class="hljs-number">201</span>; <span class="hljs-comment">// Created</span>
ctx.<span class="hljs-title function_">send</span>({ <span class="hljs-attr">id</span>: newResourceId, <span class="hljs-attr">message</span>: <span class="hljs-string">&quot;Resource created&quot;</span> });
</code></pre>
</li>
<li><strong>Example 2: Setting Error Code Before Throwing</strong><pre><code class="language-typescript"><span class="hljs-comment">// if (!resource) {</span>
<span class="hljs-comment">//   ctx.code = 404; // Set explicit 404</span>
<span class="hljs-comment">//   ctx.throw(&quot;Resource not found&quot;); // Middleware will use ctx.code (404)</span>
<span class="hljs-comment">// }</span>
</code></pre>
<em>[cite: tests/app.jet.ts (used extensively)]</em></li>
</ul>
<h3><code>path: string</code></h3>
<ul>
<li><strong>Type:</strong> <code>string</code></li>
<li><strong>Description:</strong> Contains the pathname part of the request URL, excluding the query string.</li>
<li><strong>Example:</strong><pre><code class="language-typescript"><span class="hljs-comment">// For URL: /users/profile?edit=true</span>
<span class="hljs-keyword">const</span> pathname = ctx.<span class="hljs-property">path</span>; <span class="hljs-comment">// &quot;/users/profile&quot;</span>
</code></pre>
</li>
</ul>
<hr>
<h2>Methods</h2>
<p>Methods returning <code>never</code> indicate they terminate the request flow.</p>
<h3><code>eject(): never</code></h3>
<ul>
<li><strong>Description:</strong> Disconnects JetPath’s automatic response handling. Use this advanced feature only when you need full manual control over the response stream, often for integrating with libraries that directly pipe to the underlying response (like older versions of <code>busboy</code> on Node.js). After <code>eject()</code>, JetPath will <em>not</em> send any response automatically; your code is entirely responsible.</li>
<li><strong>Example:</strong> <em>(Refer to specific streaming library documentation for usage after ejecting)</em></li>
</ul>
<h3><code>validate(dataOrSchema?: any): YourValidatedType</code></h3>
<ul>
<li><strong>Description:</strong> Performs validation using the framework’s configured validation mechanism (ideally powered by Zod/TypeBox via <code>defineHandler</code>).
<ul>
<li><strong>With <code>defineHandler</code> (Recommended):</strong> Often called implicitly if <code>preProcess</code> is enabled. If called manually (<code>ctx.validate(TheSchema)</code>), it validates the relevant part of the context (<code>ctx.body</code>, <code>ctx.query</code>, <code>ctx.params</code>) against the specified schema.</li>
<li><strong>Legacy:</strong> If used with schemas attached directly to functions (<code>Handler.body = ...</code>), <code>ctx.validate(ctx.body)</code> might be used.</li>
</ul>
</li>
<li><strong>Behavior:</strong> Returns the validated (and potentially transformed/coerced) data on success. Throws a validation error (caught by middleware) on failure.</li>
<li><strong>Example (Using schema with <code>defineHandler</code>):</strong><pre><code class="language-typescript"><span class="hljs-keyword">const</span> <span class="hljs-title class_">UserSchema</span> = t.<span class="hljs-title function_">object</span>({ <span class="hljs-attr">name</span>: t.<span class="hljs-title function_">string</span>(), <span class="hljs-attr">age</span>: t.<span class="hljs-property">coerce</span>.<span class="hljs-title function_">number</span>() });
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> POST_users = <span class="hljs-title function_">defineHandler</span>({
    <span class="hljs-attr">schema</span>: { <span class="hljs-attr">body</span>: <span class="hljs-title class_">UserSchema</span> },
    <span class="hljs-comment">// preProcess: { parse: true, validate: true } // Option 1: Auto-validation</span>
    <span class="hljs-attr">handler</span>: <span class="hljs-title function_">async</span> (ctx) =&gt; {
        <span class="hljs-comment">// Option 1: Access directly if preProcessed</span>
        <span class="hljs-comment">// const userData = ctx.body;</span>
<pre><code>    &lt;span class=&quot;hljs-comment&quot;&gt;// Option 2: Manual validation if not preProcessed&lt;/span&gt;
    &lt;span class=&quot;hljs-keyword&quot;&gt;await&lt;/span&gt; ctx.&lt;span class=&quot;hljs-title function_&quot;&gt;json&lt;/span&gt;(); &lt;span class=&quot;hljs-comment&quot;&gt;// Make sure body is parsed&lt;/span&gt;
    &lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; userData = ctx.&lt;span class=&quot;hljs-title function_&quot;&gt;validate&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;UserSchema&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// Validate ctx.body&lt;/span&gt;

    &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(userData.&lt;span class=&quot;hljs-property&quot;&gt;name&lt;/span&gt;, userData.&lt;span class=&quot;hljs-property&quot;&gt;age&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// Access typed, validated data&lt;/span&gt;
    &lt;span class=&quot;hljs-comment&quot;&gt;// ...&lt;/span&gt;
}
</code></pre>
<p>});
</code></pre>
<em>[cite: tests/app.jet.ts (used extensively, e.g., POST_auth_login)]</em></li></p>
</ul>
<h3><code>sendStream(stream: ReadableStream | any, ContentType: string): never</code></h3>
<ul>
<li><strong>Description:</strong> Sends a <code>ReadableStream</code> as the response body. Ideal for large files or dynamically generated content. Requires setting the correct <code>Content-Type</code>.</li>
<li><strong>Example (Deno/Bun):</strong><pre><code class="language-typescript"><span class="hljs-comment">// Assuming &#x27;file&#x27; is a Deno file handle or Bun FileBlob</span>
<span class="hljs-comment">// const file = await Deno.open(&#x27;./my-video.mp4&#x27;);</span>
<span class="hljs-comment">// ctx.sendStream(file.readable, &#x27;video/mp4&#x27;);</span>
</code></pre>
</li>
<li><strong>Example (Node.js):</strong><pre><code class="language-typescript"><span class="hljs-comment">// import { createReadStream } from &#x27;node:fs&#x27;;</span>
<span class="hljs-comment">// const stream = createReadStream(&#x27;./my-log-file.log&#x27;);</span>
<span class="hljs-comment">// ctx.sendStream(stream, &#x27;text/plain&#x27;);</span>
</code></pre>
</li>
</ul>
<h3><code>sendResponse(response?: Response): never</code></h3>
<ul>
<li><strong>Description:</strong> Sends a raw Web Standard <code>Response</code> object directly. Bypasses JetPath’s content negotiation and serialization. Useful for maximal control, especially in Deno/Bun.</li>
<li><strong>Example:</strong><pre><code class="language-typescript"><span class="hljs-comment">// const headers = new Headers({ &#x27;Cache-Control&#x27;: &#x27;no-store&#x27; });</span>
<span class="hljs-comment">// const response = new Response(&#x27;Custom generated content&#x27;, { status: 200, headers });</span>
<span class="hljs-comment">// ctx.sendResponse(response);</span>
</code></pre>
</li>
</ul>
<h3><code>send(data: unknown, ContentType?: string): never</code></h3>
<ul>
<li><strong>Description:</strong> The primary method for sending responses. Handles serialization and content type automatically for common types.</li>
<li><strong>Example 1: Sending JSON (Default)</strong><pre><code class="language-typescript">ctx.<span class="hljs-title function_">send</span>({ <span class="hljs-attr">status</span>: <span class="hljs-string">&quot;success&quot;</span>, <span class="hljs-attr">data</span>: { <span class="hljs-attr">userId</span>: <span class="hljs-number">123</span> } });
<span class="hljs-comment">// -&gt; Content-Type: application/json</span>
</code></pre>
</li>
<li><strong>Example 2: Sending HTML</strong><pre><code class="language-typescript"><span class="hljs-keyword">const</span> html = <span class="hljs-string">&quot;&lt;h1&gt;Hello from JetPath!&lt;/h1&gt;&quot;</span>;
ctx.<span class="hljs-title function_">send</span>(html, <span class="hljs-string">&quot;text/html&quot;</span>);
<span class="hljs-comment">// -&gt; Content-Type: text/html</span>
</code></pre>
</li>
<li><strong>Example 3: Sending Plain Text</strong><pre><code class="language-typescript">ctx.<span class="hljs-title function_">send</span>(<span class="hljs-string">&quot;OK&quot;</span>);
<span class="hljs-comment">// -&gt; Content-Type: text/plain</span>
</code></pre>
<em>[cite: tests/app.jet.ts (used extensively)]</em></li>
</ul>
<h3><code>throw(codeOrData?: number | string | Record&lt;string, any&gt; | unknown, message?: string | Record&lt;string, any&gt;): never</code></h3>
<ul>
<li><strong>Description:</strong> Used to signal errors and interrupt the normal request flow. The thrown error should be caught and handled by your error-handling middleware.</li>
<li><strong>Example 1: Not Found</strong><pre><code class="language-typescript"><span class="hljs-comment">// If pet with ctx.params.id doesn&#x27;t exist:</span>
ctx.<span class="hljs-keyword">throw</span>(<span class="hljs-number">404</span>, <span class="hljs-string">`Pet with ID <span class="hljs-subst">${ctx.params.id}</span> not found`</span>);
</code></pre>
</li>
<li><strong>Example 2: Unauthorized</strong><pre><code class="language-typescript"><span class="hljs-comment">// If authentication fails:</span>
ctx.<span class="hljs-title function_">set</span>(<span class="hljs-string">&quot;WWW-Authenticate&quot;</span>, <span class="hljs-string">&quot;Bearer realm=\&quot;protected area\&quot;&quot;</span>); <span class="hljs-comment">// Add relevant header</span>
ctx.<span class="hljs-keyword">throw</span>(<span class="hljs-number">401</span>, <span class="hljs-string">&quot;Invalid credentials&quot;</span>);
</code></pre>
<em>[cite: tests/app.jet.ts (e.g., in auth checks)]</em></li>
<li><strong>Example 3: Bad Request (Validation Failure)</strong><pre><code class="language-typescript"><span class="hljs-comment">// try {</span>
<span class="hljs-comment">//   ctx.validate(MySchema);</span>
<span class="hljs-comment">// } catch (err) {</span>
<span class="hljs-comment">//   ctx.throw(400, err.message); // Pass validation error message</span>
<span class="hljs-comment">// }</span>
</code></pre>
</li>
<li><strong>Example 4: Internal Server Error</strong><pre><code class="language-typescript"><span class="hljs-comment">// try { /* some risky operation */ }</span>
<span class="hljs-comment">// catch (err) {</span>
<span class="hljs-comment">//   console.error(&quot;Unexpected error:&quot;, err);</span>
<span class="hljs-comment">//   ctx.throw(500); // Let middleware handle generic message</span>
<span class="hljs-comment">// }</span>
</code></pre>
</li>
</ul>
<h3><code>redirect(url: string, code: number = 302): never</code> <em>(Assuming optional code)</em></h3>
<ul>
<li><strong>Description:</strong> Sends a redirect response to the client. Sets the <code>Location</code> header to the provided <code>url</code> and sets the status code (defaults typically to 302 Found).</li>
<li><strong>Example:</strong><pre><code class="language-typescript"><span class="hljs-comment">// After successful login or form submission:</span>
ctx.<span class="hljs-title function_">redirect</span>(<span class="hljs-string">&quot;/dashboard&quot;</span>);
<p><span class="hljs-comment">// For a permanent redirect:</span>
<span class="hljs-comment">// ctx.redirect(&quot;/new-location&quot;, 301);</span>
</code></pre></p>
</li>
</ul>
<h3><code>get(field: string): string | undefined</code></h3>
<ul>
<li><strong>Description:</strong> Reads a request header value (case-insensitive).</li>
<li><strong>Example:</strong><pre><code class="language-typescript"><span class="hljs-keyword">const</span> userAgent = ctx.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;User-Agent&quot;</span>);
<span class="hljs-keyword">const</span> acceptEncoding = ctx.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;Accept-Encoding&quot;</span>);
<span class="hljs-keyword">const</span> customHeader = ctx.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;X-Custom-ID&quot;</span>);
</code></pre>
<em>[cite: tests/app.jet.ts (used for Authorization, X-Admin-Key etc.)]</em></li>
</ul>
<h3><code>set(field: string, value: string): void</code></h3>
<ul>
<li><strong>Description:</strong> Sets a response header value. Can be called multiple times.</li>
<li><strong>Example:</strong><pre><code class="language-typescript">ctx.<span class="hljs-title function_">set</span>(<span class="hljs-string">&quot;Content-Language&quot;</span>, <span class="hljs-string">&quot;en-US&quot;</span>);
ctx.<span class="hljs-title function_">set</span>(<span class="hljs-string">&quot;Cache-Control&quot;</span>, <span class="hljs-string">&quot;public, max-age=3600&quot;</span>);
ctx.<span class="hljs-title function_">set</span>(<span class="hljs-string">&quot;X-Powered-By&quot;</span>, <span class="hljs-string">&quot;JetPath&quot;</span>); <span class="hljs-comment">// Add a custom header</span>
</code></pre>
<em>[cite: tests/app.jet.ts (used for X-Request-ID, WWW-Authenticate etc.)]</em></li>
</ul>
<h3><code>json(): Promise&lt;Record&lt;string, any&gt;&gt;</code></h3>
<ul>
<li><strong>Description:</strong> Asynchronously reads and parses the request body specifically as JSON. Populates <code>ctx.body</code> upon success. Throws if the body is not valid JSON or has already been consumed. It’s often called just before <code>ctx.validate()</code> if not using eager pre-processing.</li>
<li><strong>Example:</strong><pre><code class="language-typescript"><span class="hljs-comment">// In a POST handler expecting JSON:</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">handler</span>(<span class="hljs-params">ctx</span>) {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">await</span> ctx.<span class="hljs-title function_">json</span>(); <span class="hljs-comment">// Parse the body</span>
        <span class="hljs-keyword">const</span> name = ctx.<span class="hljs-property">body</span>.<span class="hljs-property">name</span>;
        <span class="hljs-comment">// Now validate ctx.body or use it directly if validation not needed</span>
        ctx.<span class="hljs-title function_">send</span>({ <span class="hljs-attr">received</span>: ctx.<span class="hljs-property">body</span> });
    } <span class="hljs-keyword">catch</span> (err) {
        ctx.<span class="hljs-keyword">throw</span>(<span class="hljs-number">400</span>, <span class="hljs-string">`Invalid JSON payload: <span class="hljs-subst">${err.message}</span>`</span>);
    }
}
</code></pre>
<em>[cite: tests/app.jet.ts (used in handlers like POST_auth_login)]</em></li>
</ul>
<hr>
<h2>Next Steps</h2>
<ul>
<li>See how <code>ctx</code> is used throughout the <a href="https://www.google.com/search?q=./request-lifecycle.md"><strong>Request Lifecycle</strong></a>.</li>
<li>Learn how <a href="https://www.google.com/search?q=./middleware.md"><strong>Middleware</strong></a> leverages <code>ctx</code> for cross-cutting concerns.</li>
<li>Understand how <a href="https://www.google.com/search?q=./validation.md"><strong>Validation</strong></a> uses schemas to type and check <code>ctx.body</code>, <code>ctx.query</code>, and <code>ctx.params</code>.</li>
</ul>
    </section>
 
 
  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-brand">
          <div class="footer-logo">JetPath</div>
          <p class="footer-tagline">the granular, fast and minimalist framework for Node, Deno and Bun. Embrace new standards!</p>
          <div class="footer-social">
            <a href="https://github.com/CodeDynasty-dev/JetPath" target="_blank" class="footer-social-link">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path
                  d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22">
                </path>
              </svg>
            </a>
            <a href="https://github.com/CodeDynasty-dev/JetPath" target="_blank" class="footer-social-link">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path
                  d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z">
                </path>
              </svg>
            </a>
            <a href="https://github.com/CodeDynasty-dev/JetPath" target="_blank" class="footer-social-link">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
              </svg>
            </a>
            <a href="https://github.com/CodeDynasty-dev/JetPath" target="_blank" class="footer-social-link">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
                <rect x="2" y="9" width="4" height="12"></rect>
                <circle cx="4" cy="4" r="2"></circle>
              </svg>
            </a>
          </div>
        </div>

        <div class="footer-links-group">
          <h4 class="footer-heading">Documentation</h4>
          <ul class="footer-links">
            <li class="footer-link"><a href="/docs/introduction.html">Getting Started</a></li>
            <li class="footer-link"><a href="/docs/installation.html">API Reference</a></li>
            <li class="footer-link"><a href="/docs/installation.html">Installation</a></li>
            <li class="footer-link"><a href="/docs/home-links/toturial.html">Tutorials</a></li>
          </ul>
        </div>

        <div class="footer-links-group">
          <h4 class="footer-heading">Community</h4>
          <ul class="footer-links">
            <li class="footer-link"><a href="https://github.com/CodeDynasty-dev/JetPath" target="_blank">GitHub</a></li>
            <li class="footer-link"><a href="https://discord.com/invite/CodeDynasty" target="_blank">Discord</a></li>
            <li class="footer-link"><a href="https://twitter.com/CodeDynastyDev" target="_blank">Twitter</a></li>
            <li class="footer-link"><a href="https://blog.coddynasty.com" target="_blank">Blog</a></li>
          </ul>
        </div>

        <div class="footer-links-group">
          <h4 class="footer-heading">More</h4>
          <ul class="footer-links"> 
            <li class="footer-link"><a href="/docs/roadmap.html">Roadmap</a></li>
            <li class="footer-link"><a href="/docs/contribute.html">Contribute</a></li>
            <li class="footer-link"><a href="/docs/sponsors.html">Sponsors</a></li>
          </ul>
        </div>
      </div>

      <div class="footer-bottom">
        <p>&copy; 2025 JetPath. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <script>
    // Header scroll effect
    const header = document.querySelector('.header');
    window.addEventListener('scroll', () => {
      if (window.scrollY > 10) {
        header.classList.add('header-scrolled');
      } else {
        header.classList.remove('header-scrolled');
      }
    });
 

    // Code tabs
    const codeTabs = document.querySelectorAll('.code-tab');
    codeTabs.forEach(tab => {
      tab.addEventListener('click', () => {
        // Remove active class from all tabs
        codeTabs.forEach(t => t.classList.remove('active'));

        // Add active class to clicked tab
        tab.classList.add('active');

        // Hide all code wrappers
        document.querySelectorAll('.code-wrapper').forEach(wrapper => {
          wrapper.classList.remove('active');
        });

        // Show the corresponding code wrapper
        const tabId = tab.getAttribute('data-tab');
        document.getElementById(`${tabId}-code`).classList.add('active');
      });
    });

    // Copy button functionality
    const copyButtons = document.querySelectorAll('.copy-btn');
    copyButtons.forEach(button => {
      button.addEventListener('click', () => {
        const codeId = button.getAttribute('data-code');
        const codeElement = document.querySelector(`#${codeId}-code pre code`);

        navigator.clipboard.writeText(codeElement.textContent).then(() => {
          button.textContent = 'Copied!';
          setTimeout(() => {
            button.textContent = 'Copy';
          }, 2000);
        });
      });
    });

    // Feature buttons
    const featureButtons = document.querySelectorAll('.feature-btn');
    featureButtons.forEach(button => {
      button.addEventListener('click', () => {
        featureButtons.forEach(btn => btn.classList.remove('active'));
        button.classList.add('active');

        // Here you could add logic to show different content based on selected feature
      });
    });

    // Cursor highlight effect
    const cursorHighlight = document.querySelector('.cursor-highlight');

    document.addEventListener('mousemove', (e) => {
      const x = e.clientX;
      const y = e.clientY;

      cursorHighlight.style.opacity = '1';
      cursorHighlight.style.left = `${x}px`;
      cursorHighlight.style.top = `${y}px`;

      const links = document.querySelectorAll('a, button');
      let hovering = false;

      links.forEach(link => {
        if (link.matches(':hover')) {
          hovering = true;
        }
      });

      if (hovering) {
        cursorHighlight.style.opacity = '0.3';
      } else {
        cursorHighlight.style.opacity = '0.1';
      }
    }); 
    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();

        if (this.getAttribute('href') === '#') return;

        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          const headerHeight = document.querySelector('.header').offsetHeight;
          const elementPosition = target.getBoundingClientRect().top;
          const offsetPosition = elementPosition + window.pageYOffset - headerHeight;

          window.scrollTo({
            top: offsetPosition,
            behavior: 'smooth'
          });

          // Close mobile menu if open
          nav.classList.remove('active');
        }
      });
    });


     const sidebarLinks = document.querySelectorAll('.doc-link');
    const contentSections = document.querySelectorAll('article [id]'); // Select elements with IDs within the article

    function highlightSidebarLink() {
        let currentSectionId = '';
        const headerHeight = document.querySelector('.header').offsetHeight;
        const scrollPosition = window.pageYOffset + headerHeight + 50; // Add offset

        contentSections.forEach(section => {
            const sectionTop = section.offsetTop;
            if (scrollPosition >= sectionTop) {
                currentSectionId = section.id;
            }
        });

        sidebarLinks.forEach(link => {
            link.classList.remove('text-[--primary]', 'font-semibold'); // Use Tailwind classes or custom classes
            link.classList.add('text-[--text-light]');
            if (link.getAttribute('href') === `#${currentSectionId}`) {
                link.classList.add('text-[--primary]', 'font-semibold');
                link.classList.remove('text-[--text-light]');
            }
        });
    }

    // Debounce function to limit scroll event handler calls
    function debounce(func, wait = 10, immediate = true) {
        var timeout;
        return function() {
            var context = this, args = arguments;
            var later = function() {
                timeout = null;
                if (!immediate) func.apply(context, args);
            };
            var callNow = immediate && !timeout;
            clearTimeout(timeout);
            timeout = setTimeout(later, wait);
            if (callNow) func.apply(context, args);
        };
    };

    const debouncedHighlight = debounce(highlightSidebarLink, 50);

    window.addEventListener('scroll', debouncedHighlight);
    window.addEventListener('load', highlightSidebarLink); // Initial highlight on load

    // Smooth scrolling for doc links (adjust if existing smooth scroll handles this)
    sidebarLinks.forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const targetId = this.getAttribute('href');
        if (!targetId || targetId === '#') return;

        const targetElement = document.querySelector(targetId);
        if (targetElement) {
          const headerHeight = document.querySelector('.header').offsetHeight;
          const elementPosition = targetElement.getBoundingClientRect().top;
          const offsetPosition = elementPosition + window.pageYOffset - headerHeight - 20; // Extra offset

          window.scrollTo({
            top: offsetPosition,
            behavior: 'smooth'
          });

          // Optionally update URL hash without page jump
          // history.pushState(null, null, targetId);
        }
      });
    });

    // Mobile menu functionality
    const mobileMenuBtn = document.querySelector('.mobile-menu-btn'); 
    const sidebar = document.getElementById('doc-side-bar');
    const mobileOverlay = document.querySelector('.mobile-overlay');

    mobileMenuBtn.addEventListener('click', () => {
      sidebar.classList.toggle('active');
      mobileOverlay.classList.toggle('active');
    });

    mobileOverlay.addEventListener('click', () => {
      sidebar.classList.remove('active');
      mobileOverlay.classList.remove('active');
    });

    // Close menu when clicking outside on mobile
    document.addEventListener('click', (e) => {
      if (window.innerWidth <= 1024 && 
          !sidebar.contains(e.target) && 
          !mobileMenuBtn.contains(e.target) && 
          sidebar.classList.contains('active')) {
        sidebar.classList.remove('active');
        mobileOverlay.classList.remove('active');
      }
    });
  </script>
  <script src="/prism.js"></script>
</body>

</html>

