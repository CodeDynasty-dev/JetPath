<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JetPath - Blazing Fast Backend Framework</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet"> 
 <link rel="stylesheet" href="/bundle.css">
<link rel="stylesheet" href="/custom-typography.css">
  <style> 
 
    :root {
      --primary: #6EE7B7;
      --primary-dark: #10B981;
      --secondary: #3B82F6;
      --secondary-dark: #2563EB;
      --dark: #0A0A0A;
      --dark-light: #121212;
      --dark-lighter: #1A1A1A;
      --text: #F9FAFB;
      --text-light: #D1D5DB;
      --text-lighter: #9CA3AF;
      --border: rgba(255, 255, 255, 0.1);
      --border-light: rgba(255, 255, 255, 0.05);
    }
 
    body {
      background-color: var(--dark);
      color: var(--text);
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow-x: hidden;
      line-height: 1.6;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    .container {
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1.5rem;
    }

    /* Header */
    .header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 100;
      background: rgba(10, 10, 10, 0.8);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--border);
      padding: 1rem 0;
      transition: all 0.3s ease;
    }

    .header-scrolled {
      background: rgba(10, 10, 10, 0.95);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    }

    .header-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      display: flex;
      align-items: center;
      font-weight: 700;
      font-size: 1.5rem;
    }

    .logo-text {
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      color: transparent;
    }

    .nav {
      display: flex;
      align-items: center;
      gap: 2rem;
    }

    .nav-link {
      font-weight: 500;
      transition: color 0.2s ease;
      position: relative;
    }

    .nav-link::after {
      content: '';
      position: absolute;
      bottom: -4px;
      left: 0;
      width: 0;
      height: 2px;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      transition: width 0.3s ease;
    }

    .nav-link:hover::after {
      width: 100%;
    }

    .nav-link:hover {
      color: var(--primary);
    }

    .btn {
      display: inline-block;
      padding: 0.75rem 1.5rem;
      border-radius: 0.5rem;
      font-weight: 600;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: var(--dark);
      border: none;
      box-shadow: 0 4px 14px rgba(59, 130, 246, 0.3);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4);
    }

    .btn-outline {
      background: transparent;
      color: var(--text);
      border: 1px solid var(--border);
    }

    .btn-outline:hover {
      border-color: var(--primary);
      color: var(--primary);
    }

    .mobile-menu-btn {
      display: none;
      padding: 0.5rem;
      border: none;
      background: transparent;
      cursor: pointer;
      z-index: 100;
    }

    .mobile-menu-btn svg {
      width: 24px;
      height: 24px;
    }

    .mobile-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 85;
    }

    @media (max-width: 1024px) {
      .mobile-menu-btn {
        display: block;
      }

      #doc-side-bar {
        position: fixed;
        top: 0;
        left: -256px;
        width: 256px;
        min-height: 100vh;
        height: 100%;
        background: rgba(10, 10, 10, 0.8);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border-right: 1px solid var(--border);
        z-index: 90;
        padding: 2rem 1rem;
        transition: left 0.3s ease;
      }

      #doc-side-bar.active {
        left: 0;
        display: block;
      }

      .mobile-overlay.active {
        display: block;
      }

      .main-content {
        margin-left: 0;
        padding: 4rem 1.5rem 1.5rem;
      }
    }

    /* Code Demo */
    .code-demo {
      width: 100%;
      max-width: 800px;
      margin: 0 auto;
      border-radius: 0.75rem;
      overflow: hidden;
      box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
      transform: translateY(0);
      transition: transform 0.3s ease;
    }

    .code-demo:hover {
      transform: translateY(-5px);
    }

    .code-header {
      display: flex;
      align-items: center;
      background: #1E1E1E;
      padding: 0.75rem 1rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .code-dots {
      display: flex;
      gap: 0.375rem;
      margin-right: 1rem;
    }

    .code-dot {
      width: 0.75rem;
      height: 0.75rem;
      border-radius: 50%;
    }

    .code-dot.red {
      background-color: #FF5F56;
    }

    .code-dot.yellow {
      background-color: #FFBD2E;
    }

    .code-dot.green {
      background-color: #27C93F;
    }

    .code-tabs {
      display: flex;
      gap: 1rem;
    }

    .code-tab {
      font-size: 0.875rem;
      color: var(--text-lighter);
      cursor: pointer;
      padding-bottom: 0.25rem;
      border-bottom: 2px solid transparent;
      transition: all 0.2s ease;
    }

    .code-tab.active {
      color: var(--primary);
      border-bottom-color: var(--primary);
    }

    .code-content {
      background: #1E1E1E;
      position: relative;
    }

    .code-wrapper {
      display: none;
    }

    .code-wrapper.active {
      display: block;
    }

    .copy-btn {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: rgba(255, 255, 255, 0.1);
      border: none;
      color: var(--text-lighter);
      padding: 0.375rem 0.75rem;
      border-radius: 0.25rem;
      font-size: 0.75rem;
      cursor: pointer;
      transition: all 0.2s ease;
      z-index: 2;
    }

    .copy-btn:hover {
      background: rgba(255, 255, 255, 0.2);
      color: var(--text);
    }

    pre {
      margin: 0 !important;
      padding: 1.5rem !important;
      overflow-x: auto;
      font-size: 0.9rem;
      line-height: 1.6;
      border-radius: 0;
    }

    code {
      font-family: 'Menlo', 'Monaco', 'Consolas', monospace;
    }

    /* Features Section */
    .section {
      padding: 6rem 0;
    }

    .section-title {
      font-size: 2.5rem;
      font-weight: 800;
      margin-bottom: 1rem;
      text-align: center;
    }

    .section-title span {
      background: linear-gradient(to right, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      color: transparent;
    }

    .section-subtitle {
      font-size: 1.125rem;
      color: var(--text-light);
      text-align: center;
      max-width: 700px;
      margin: 0 auto 3rem;
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
    }

    .feature-card {
      background: var(--dark-lighter);
      border: 1px solid var(--border);
      border-radius: 1rem;
      padding: 2rem;
      transition: all 0.3s ease;
      height: 100%;
      display: flex;
      flex-direction: column;
    }

    .feature-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      border-color: rgba(110, 231, 183, 0.3);
    }

    .feature-icon {
      width: 3rem;
      height: 3rem;
      background: linear-gradient(135deg, rgba(110, 231, 183, 0.2), rgba(59, 130, 246, 0.2));
      border-radius: 0.75rem;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 1.5rem;
    }

    .feature-icon svg {
      width: 1.5rem;
      height: 1.5rem;
      color: var(--primary);
    }

    .feature-title {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 0.75rem;
    }

    .feature-description {
      color: var(--text-light);
      font-size: 1rem;
      line-height: 1.6;
      flex-grow: 1;
    }

    /* Why JetPath Section */
    .why-jetpath {
      background: linear-gradient(to bottom, var(--dark), var(--dark-light));
    }

    .comparison-table {
      width: 100%;
      background: var(--dark-lighter);
      border-radius: 1rem;
      overflow: hidden;
      border: 1px solid var(--border);
      margin-top: 2rem;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    }

    .comparison-table thead {
      background: rgba(110, 231, 183, 0.1);
    }

    .comparison-table th,
    .comparison-table td {
      padding: 1rem 1.5rem;
      text-align: left;
      border-bottom: 1px solid var(--border);
    }

    .comparison-table th {
      font-weight: 600;
      color: var(--text);
    }

    .comparison-table td {
      color: var(--text-light);
    }

    .comparison-table tr:last-child td {
      border-bottom: none;
    }

    .highlight-cell {
      color: var(--primary) !important;
      font-weight: 600;
    }

    /* Performance Section */
    .performance {
      background: var(--dark);
      position: relative;
      overflow: hidden;
    }

    .performance::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background:
        radial-gradient(circle at 10% 90%, rgba(110, 231, 183, 0.08) 0%, transparent 50%);
      z-index: -1;
    }

    .benchmark-container {
      background: var(--dark-lighter);
      border: 1px solid var(--border);
      border-radius: 1rem;
      padding: 2rem;
      margin-top: 3rem;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    }

    .benchmark-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .benchmark-card {
      text-align: center;
    }

    .benchmark-value {
      font-size: 2.5rem;
      font-weight: 700;
      background: linear-gradient(to right, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      color: transparent;
      margin-bottom: 0.5rem;
    }

    .benchmark-label {
      color: var(--text-light);
      font-size: 0.875rem;
    }

    /* Ecosystem Section */
    .ecosystem {
      background: linear-gradient(to bottom, var(--dark-light), var(--dark));
    }

    .ecosystem-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
    }

    .ecosystem-card {
      background: var(--dark-lighter);
      border: 1px solid var(--border);
      border-radius: 1rem;
      padding: 2rem;
      transition: all 0.3s ease;
      text-align: center;
    }

    .ecosystem-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      border-color: rgba(59, 130, 246, 0.3);
    }

    .ecosystem-icon {
      width: 3.5rem;
      height: 3.5rem;
      margin: 0 auto 1.5rem;
      background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(110, 231, 183, 0.2));
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .ecosystem-icon svg {
      width: 1.75rem;
      height: 1.75rem;
      color: var(--secondary);
    }

    .ecosystem-title {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 0.75rem;
    }

    .ecosystem-description {
      color: var(--text-light);
      font-size: 1rem;
    }

    /* CTA Section */
    .cta {
      background: linear-gradient(to bottom right, var(--dark-light), #0B1120);
      padding: 6rem 0;
      position: relative;
      overflow: hidden;
    }

    .cta::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background:
        radial-gradient(circle at 80% 20%, rgba(59, 130, 246, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 20% 80%, rgba(110, 231, 183, 0.15) 0%, transparent 50%);
      z-index: -1;
    }

    .cta-content {
      max-width: 600px;
      margin: 0 auto;
      text-align: center;
    }

    .cta-title {
      font-size: 2.5rem;
      font-weight: 800;
      margin-bottom: 1.5rem;
    }

    .cta-description {
      color: var(--text-light);
      font-size: 1.125rem;
      margin-bottom: 2.5rem;
    }

    .cta-buttons {
      display: flex;
      justify-content: center;
      gap: 1rem;
    }

    /* Footer */
    .footer {
      background: var(--dark);
      padding: 4rem 0 2rem;
      border-top: 1px solid var(--border);
    }

    .footer-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 3rem;
      margin-bottom: 3rem;
    }

    .footer-brand {
      grid-column: 1 / -1;
    }

    @media (min-width: 768px) {
      .footer-brand {
        grid-column: auto;
      }
    }

    .footer-logo {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 1rem;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      color: transparent;
    }

    .footer-tagline {
      color: var(--text-light);
      font-size: 0.875rem;
      margin-bottom: 1.5rem;
    }

    .footer-social {
      display: flex;
      gap: 1rem;
    }

    .footer-social-link {
      width: 2rem;
      height: 2rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-light);
      transition: all 0.2s ease;
    }

    .footer-social-link:hover {
      background: rgba(110, 231, 183, 0.1);
      color: var(--primary);
      transform: translateY(-3px);
    }

    .footer-heading {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 1.25rem;
    }

    .footer-links {
      list-style: none;
    }

    .footer-link {
      margin-bottom: 0.75rem;
    }

    .footer-link a {
      color: var(--text-light);
      font-size: 0.9rem;
      transition: color 0.2s ease;
    }

    .footer-link a:hover {
      color: var(--primary);
    }

    .footer-bottom {
      border-top: 1px solid var(--border);
      padding-top: 2rem;
      text-align: center;
      color: var(--text-lighter);
      font-size: 0.875rem;
    }

    /* Animations */
    @keyframes float {

      0%,
      100% {
        transform: translateY(0);
      }

      50% {
        transform: translateY(-15px);
      }
    }

    .float-animation {
      animation: float 6s ease-in-out infinite;
    }

    /* Media Queries */
    @media (max-width: 768px) {
      .nav {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        flex-direction: column;
        align-items: center;
        gap: 1rem;
        padding: 1.5rem;
        background: rgba(10, 10, 10, 0.95);
        backdrop-filter: blur(10px);
        -webkit-backpack-filter: blur(10px);
        border-bottom: 1px solid var(--border);
      }

      .nav.active {
        display: flex;
      }

      .mobile-menu-btn {
        display: block;
      }

      .hero-title {
        font-size: 2.5rem;
      }

      .hero-cta {
        flex-direction: column;
      }

      .code-demo {
        border-radius: 0.5rem;
      }

      .section-title {
        font-size: 2rem;
      }

      .cta-title {
        font-size: 2rem;
      }

      .cta-buttons {
        flex-direction: column;
      }
    }

    /* Additional enhancements inspired by Elysia.js */
    .custom-shape {
      position: absolute;
      width: 500px;
      height: 500px;
      filter: blur(100px);
      opacity: 0.15;
      z-index: -1;
    }

    .shape-1 {
      background: var(--primary);
      top: 10%;
      right: -200px;
      border-radius: 100% 0 0 100%;
    }

    .shape-2 {
      background: var(--secondary);
      bottom: -200px;
      left: -100px;
      border-radius: 100%;
    }

    /* Interactive feature buttons */
    .interactive-features {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 3rem;
    }

    .feature-btn {
      background: var(--dark-lighter);
      border: 1px solid var(--border);
      color: var(--text-light);
      padding: 0.75rem 1.5rem;
      border-radius: 0.5rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .feature-btn:hover,
    .feature-btn.active {
      background: linear-gradient(135deg, rgba(110, 231, 183, 0.1), rgba(59, 130, 246, 0.1));
      border-color: rgba(110, 231, 183, 0.3);
      color: var(--primary);
      transform: translateY(-3px);
    }

    /* Terminal Animation */
    .terminal {
      position: relative;
      width: 100%;
      max-width: 800px;
      margin: 3rem auto 0;
      border-radius: 0.75rem;
      overflow: hidden;
      box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
    }

    .terminal-header {
      display: flex;
      align-items: center;
      background: #1E1E1E;
      padding: 0.75rem 1rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .terminal-title {
      margin-left: 1rem;
      font-size: 0.875rem;
      color: var(--text-lighter);
    }

    .terminal-body {
      background: #0D1017;
      padding: 1.5rem;
      font-family: 'Menlo', 'Monaco', 'Consolas', monospace;
      font-size: 0.875rem;
      color: var(--text-light);
      line-height: 1.7;
    }

    .terminal-line {
      display: flex;
      margin-bottom: 0.5rem;
    }

    .terminal-prompt {
      color: var(--primary);
      margin-right: 0.75rem;
      user-select: none;
    }

    .terminal-output {
      opacity: 0;
      animation: fadeIn 0.5s ease forwards;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }

    .terminal-cursor {
      display: inline-block;
      width: 0.5rem;
      height: 1.2rem;
      background: var(--primary);
      margin-left: 2px;
      animation: blink 1s infinite;
    }

    @keyframes blink {

      0%,
      100% {
        opacity: 1;
      }

      50% {
        opacity: 0;
      }
    }

    .terminal-typing {
      position: relative;
    }

    .terminal-typing::after {
      content: '|';
      position: absolute;
      right: -10px;
      animation: blink 1s infinite;
    }

    /* Cursor highlight effect */
    .cursor-highlight {
      position: fixed;
      width: 300px;
      height: 300px;
      border-radius: 50%;
      pointer-events: none;
      background: radial-gradient(circle, rgba(110, 231, 183, 0.1) 0%, rgba(110, 231, 183, 0) 70%);
      transform: translate(-50%, -50%);
      z-index: -1;
      opacity: 0;
      transition: opacity 0.3s ease-out;
    }

    /* Section specific styles */
    .section-padding {
      padding-top: 5rem;
      /* Increased padding */
      padding-bottom: 5rem;
      /* Increased padding */
      padding-left: 1.5rem;
      /* px-6 */
      padding-right: 1.5rem;
      /* px-6 */
    }

    @media (min-width: 768px) {

      /* md: */
      .section-padding {
        padding-left: 3rem;
        /* md:px-12 */
        padding-right: 3rem;
        /* md:px-12 */
      }
    }

    @media (min-width: 1024px) {

      /* lg: */
      .section-padding {
        padding-left: 6rem;
        /* lg:px-24 */
        padding-right: 6rem;
        /* lg:px-24 */
      }
    }

    .section-title {
      font-size: 2.25rem;
      /* text-4xl */
      font-weight: 800;
      /* font-extrabold */
      text-align: center;
      margin-bottom: 3rem;
      /* mb-12 */
    }

    @media (min-width: 768px) {

      /* md: */
      .section-title {
        font-size: 2.75rem;
        /* md:text-5xl */
        margin-bottom: 4rem;
        /* md:mb-16 */
      }
    }
 

    .red {
      border: 1px red solid;
    }


        .logo-container {
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    .search-bar-container {
      flex-grow: 1;
      max-width: 400px;
    }

    .search-bar {
      position: relative;
      display: flex;
      align-items: center;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid var(--border);
      border-radius: 0.5rem;
      padding: 0.5rem 1rem;
      transition: all 0.3s ease;
      width: 100%;
      max-width: 100%;
    }

    .search-bar:focus-within {
      border-color: var(--primary);
      box-shadow: 0 0 0 2px rgba(110, 231, 183, 0.2);
    }

    .search-input {
      background: transparent;
      border: none;
      color: var(--text);
      font-size: 1rem;
      width: 100%;
      outline: none;
    }

    .search-bar svg {
      margin-right: 0.5rem;
    }

    /* Media Queries */
   
    /* Media Queries */
    @media (max-width: 768px) {
      .header-container {
        /* flex-wrap: wrap; */
        display: grid;
        grid-template-rows: 1fr 1fr;
      }
      .shape-1, .shape-2 {
        display: none;
      }
      .header-container.container {
        width: 100%;
        padding: 12px;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
      }

      .search-bar-container {
        flex-basis: 100%;
        max-width: 100%;
        margin-bottom: 0.5rem;
      }
      .header-container .flex.w-full.justify-between {
        min-width: 80vw;
        margin: 0 auto;
      }

      .search-bar {
        max-width: 100%;
      }
    }

    :not(pre)>code[class*=language-], pre[class*=language-] {
      background-color: unset !important;
    }

    #doc-side-bar {
      position: fixed;
      top: 0;
      left: 0;
      width: 256px;
      height: 100vh;
      background: rgba(10, 10, 10, 0.8);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-right: 1px solid var(--border);
      z-index: 90;
      padding: 4rem 1rem 1rem;
    }

    .main-content {
      margin-left: 256px;
      padding: 4rem 1.5rem 1.5rem;
    }

    @media (max-width: 1024px) {
      #doc-side-bar {
        display: none;
      }
      .main-content {
        margin-left: 0;
        padding: 4rem 1.5rem 1.5rem;
      }
    }
  </style>

  <link href="/prism.css" rel="stylesheet" />

</head>

<body>
  <!-- Cursor highlight effect -->
  <div class="cursor-highlight"></div>

  <!-- Decorative shapes -->
  <div class="custom-shape shape-1"></div>
  <div class="custom-shape shape-2"></div>
 
 <!-- Header -->
  <header class="header w-full">
    <div class="container header-container w-full">
      <div class="flex w-full justify-between">

        <div class="logo-container">
          <a href="/" title="JetPath" class="logo">
            <div class="flex gap-1">
              <img src="/icon-transparent.webp" class="h-[88px]" alt="">
          </div>
        </a>
        <a href="/" class="logo">
          <span class="logo-text">JetPath</span>
        </a>
      </div>
        <button class="mobile-menu-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="3" y1="12" x2="21" y2="12"></line>
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
        </button>
      </div>

      <!-- Search Bar -->
      <div class="search-bar-container">
        <div class="search-bar">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="11" cy="11" r="8"></circle>
            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
          </svg>
          <input type="text" class="search-input" placeholder="Search...">
        </div>
      </div>

      <nav class="nav lg:ml-6">  
        <a href="/docs/introduction.html" class="nav-link">Docs</a>
        <a href="/docs/performance" class="nav-link">Performance</a>
        <a href="/docs/ecosystem" class="nav-link">Ecosystem</a>
        <a href="https://github.com/CodeDynasty-dev/JetPath" target="_blank" class="btn btn-outline">GitHub</a>
        <!-- <a href="/docs/introduction.html" class="btn btn-primary">Get Started</a> -->
      </nav>
    </div>
  </header>
 
  <div class="mobile-overlay"></div>

  <!-- Sidebar -->
  <aside id="doc-side-bar" class="w-full lg:w-64 lg:flex-shrink-0 mb-8 lg:mb-0 bg-gray-900 text-gray-200 hidden lg:block mt-14 max-md:mt-[8rem]">
    <nav class="sticky top-[calc(4rem+1px+2rem)] h-full">
      <!-- Search -->
      <div class="px-4 py-6">
        <div class="relative">  
          <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
            <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" />
            </svg> 
          </div>
          <input type="text" name="doc-search" id="doc-search" class="block w-full pl-10 pr-3 py-2 border border-gray-700 rounded-md bg-gray-800 text-gray-300 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500 sm:text-sm" placeholder="Search documentation">
        </div>
      </div>

      <!-- Navigation Links -->
      <div class="space-y-2">
        <!-- Getting Started Section -->
        <div class="px-4">
          <div class="flex items-center justify-between text-gray-400 cursor-pointer hover:text-white" data-section="getting-started">
            <div class="flex items-center">
              <svg class="w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4" />
              </svg>
              <span class="text-sm font-medium">Getting Started</span>
            </div>
            <svg class="w-4 h-4 transform transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
          </div>
          <div class="space-y-1 pl-6 mt-2" id="getting-started-content">
            <a href="/docs/introduction.html" class="block px-3 py-2 rounded-md text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200">Introduction</a>
            <a href="/docs/installation.html" class="block px-3 py-2 rounded-md text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200">Installation</a>
            <a href="/docs/quickstart.html" class="block px-3 py-2 rounded-md text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200">Quick Start</a>
          </div>
        </div>

        <!-- Core Concepts Section -->
        <div class="px-4">
          <div class="flex items-center justify-between text-gray-400 cursor-pointer hover:text-white" data-section="core-concepts">
            <div class="flex items-center">
              <svg class="w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
              </svg>
              <span class="text-sm font-medium">Core Concepts</span>
            </div>
            <svg class="w-4 h-4 transform transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
          </div>
          <div class="space-y-1 pl-6 mt-2" id="core-concepts-content">
            <a href="/docs/routing.html" class="block px-3 py-2 rounded-md text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200">Routing</a>
            <a href="/docs/middleware.html" class="block px-3 py-2 rounded-md text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200">Middleware</a>
            <a href="/docs/context.html" class="block px-3 py-2 rounded-md text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200">Context (ctx)</a>
            <a href="/docs/error-handling.html" class="block px-3 py-2 rounded-md text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200">Error Handling</a>
          </div>
        </div>

        <!-- Advanced Section -->
        <div class="px-4">
          <div class="flex items-center justify-between text-gray-400 cursor-pointer hover:text-white" data-section="advanced">
            <div class="flex items-center">
              <svg class="w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
              </svg>
              <span class="text-sm font-medium">Advanced</span>
            </div>
            <svg class="w-4 h-4 transform transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
          </div>
          <div class="space-y-1 pl-6 mt-2" id="advanced-content">
            <a href="/docs/plugins.html" class="block px-3 py-2 rounded-md text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200">Plugins</a>
            <a href="/docs/dependency-injection.html" class="block px-3 py-2 rounded-md text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200">Dependency Injection</a>
            <a href="/docs/testing.html" class="block px-3 py-2 rounded-md text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200">Testing</a>
            <a href="/docs/deployment.html" class="block px-3 py-2 rounded-md text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200">Deployment</a>
          </div>
        </div>

        <!-- API Reference Section -->
        <div class="px-4">
          <div class="flex items-center justify-between text-gray-400 cursor-pointer hover:text-white" data-section="api-reference">
            <div class="flex items-center">
              <svg class="w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
              </svg>
              <span class="text-sm font-medium">API Reference</span>
            </div>
            <svg class="w-4 h-4 transform transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
          </div>
          <div class="space-y-1 pl-6 mt-2" id="api-reference-content">
            <a href="/docs/api-reference/types.html" class="block px-3 py-2 rounded-md text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200">Types</a>
              <a href="/docs/api-reference/context.html" class="block px-3 py-2 rounded-md text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200">Context</a>
          </div>
        </div>
      </div>
    </nav>
  </aside>

  <main class="main-content">
    <script>
      // Initialize sections
      document.querySelectorAll('[data-section]').forEach(section => {
        const contentId = section.dataset.section + '-content';
        const content = document.getElementById(contentId);
        const arrow = section.querySelector('svg');
        
        // Add click handler
        section.addEventListener('click', () => {
          content.classList.toggle('hidden');
          arrow.classList.toggle('rotate-90');
        });
      });

      // Add active state to current page
      const currentPath = window.location.pathname;
      document.querySelectorAll('#doc-side-bar a').forEach(link => {
        if (link.getAttribute('href') === currentPath) {
          link.classList.add('bg-gray-700', 'text-white', 'font-medium');
        }
      });

      // Add smooth scroll behavior
      document.querySelectorAll('#doc-side-bar a').forEach(link => {
        link.addEventListener('click', (e) => {
          e.preventDefault();
          const href = link.getAttribute('href');
          if (href.startsWith('#')) {
            const target = document.querySelector(href);
            if (target) {
              const headerHeight = document.querySelector('.header').offsetHeight;
              const elementPosition = target.getBoundingClientRect().top;
              const offsetPosition = elementPosition + window.pageYOffset - headerHeight;

              window.scrollTo({
                top: offsetPosition,
                behavior: 'smooth'
              });

              // Close mobile menu if open
              nav.classList.remove('active');
            }
          } else {
            window.location.href = href;
          }
        });
      });
    </script>
    <section class="max-w-4xl mx-auto my-8 mt-[15rem]" >
      <h1>Extending JetPath: Plugins</h1>
<p>Plugins are the primary way to extend JetPath’s core functionality, promote code reuse, and encapsulate complex or shared logic, such as authentication, database interactions, file handling, logging, or connections to third-party services.</p>
<hr>
<h2>What are Plugins?</h2>
<p>Think of plugins as self-contained modules that can:</p>
<ol>
<li><strong>Initialize Resources:</strong> Set up database connections, configure API clients, read configuration, etc., when the application starts.</li>
<li><strong>Expose Functionality:</strong> Add new methods and properties to the <code>ctx.plugins</code> object, making them easily accessible within your middleware and route handlers.</li>
<li><strong>Manage Dependencies:</strong> Encapsulate dependencies needed by the plugin’s functionality (as discussed in <a href="./dependency-injection.md">Dependency Injection</a>).</li>
</ol>
<hr>
<h2>Using Plugins</h2>
<p>Integrating existing plugins (whether official JetPath plugins or community-created ones) is straightforward.</p>
<h3>1. Installation</h3>
<p>Install the plugin package using your preferred package manager:</p>
<pre><code class="language-bash"><span class="hljs-comment"># Example installing an official file upload plugin</span>
npm install @jetpath/plugin-busboy
<span class="hljs-comment"># or</span>
bun add @jetpath/plugin-busboy
<span class="hljs-comment"># or add via import map/URL for Deno</span>
</code></pre>
<h3>2. Registration</h3>
<p>Instantiate the plugin (if necessary, passing configuration options) and register it with your JetPath application instance using <code>app.use()</code>. Registration typically happens in your main server file (<code>server.ts</code>).</p>
<pre><code class="language-typescript"><span class="hljs-comment">// server.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">JetPath</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;jetpath&quot;</span>;
<span class="hljs-comment">// Assuming jetbusboy is the exported plugin factory/instance</span>
<span class="hljs-keyword">import</span> { jetbusboy } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@jetpath/plugin-busboy&quot;</span>;
<span class="hljs-keyword">import</span> { createAuthPlugin } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./plugins/authPlugin&quot;</span>; <span class="hljs-comment">// Your custom auth plugin</span>
<p><span class="hljs-keyword">const</span> app = <span class="hljs-keyword">new</span> <span class="hljs-title class_">JetPath</span>({ <span class="hljs-attr">source</span>: <span class="hljs-string">&quot;./src&quot;</span> });</p>
<p><span class="hljs-comment">// Instantiate and register plugins</span>
<span class="hljs-comment">// Official plugin for multipart/form-data handling</span>
app.<span class="hljs-title function_">use</span>(jetbusboy);</p>
<p><span class="hljs-comment">// Custom authentication plugin (example)</span>
<span class="hljs-keyword">const</span> authPlugin = <span class="hljs-title function_">createAuthPlugin</span>({ <span class="hljs-comment">/* options like JWT secret */</span> });
app.<span class="hljs-title function_">use</span>(authPlugin);</p>
<p>app.<span class="hljs-title function_">listen</span>();
</code></pre></p>
<p><em>[cite: Registration pattern shown in tests/app.jet.ts]</em></p>
<p><strong>Important:</strong> Plugins are generally executed/initialized in the order they are registered with <code>app.use()</code>.</p>
<h3>3. Accessing Plugin Functionality</h3>
<p>Once registered, the methods and properties returned by the plugin’s <code>executor</code> function become available on the <code>ctx.plugins</code> object within middleware and route handlers.</p>
<pre><code class="language-typescript"><span class="hljs-comment">// In a route handler or middleware</span>
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">JetFunc</span>, <span class="hljs-title class_">JetMiddleware</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;jetpath&quot;</span>;
<span class="hljs-comment">// Import types exposed by plugins if available</span>
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">JetBusBoyType</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@jetpath/plugin-busboy&quot;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">AuthPluginAPI</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./plugins/authPlugin&quot;</span>;
<p><span class="hljs-comment">// Use generics to type ctx.plugins</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">HandlerPlugins</span> = [<span class="hljs-title class_">JetBusBoyType</span>, <span class="hljs-title class_">AuthPluginAPI</span>];</p>
<p><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">POST_upload</span>: <span class="hljs-title class_">JetFunc</span>&lt;{}, <span class="hljs-title class_">HandlerPlugins</span>&gt; = <span class="hljs-title function_">async</span> (ctx) =&gt; {
<span class="hljs-comment">// Access file upload functionality from jetbusboy plugin</span>
<span class="hljs-keyword">const</span> formData = <span class="hljs-keyword">await</span> ctx.<span class="hljs-property">plugins</span>.<span class="hljs-title function_">formData</span>(ctx);
<span class="hljs-keyword">const</span> image = formData.<span class="hljs-property">image</span>;
<span class="hljs-comment">// … process image …</span></p>
<pre><code>ctx.&lt;span class=&quot;hljs-title function_&quot;&gt;send&lt;/span&gt;({ &lt;span class=&quot;hljs-attr&quot;&gt;message&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&amp;quot;Upload processed&amp;quot;&lt;/span&gt; });
</code></pre>
<p>};</p>
<p><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">GET_profile</span>: <span class="hljs-title class_">JetFunc</span>&lt;{}, <span class="hljs-title class_">HandlerPlugins</span>&gt; = <span class="hljs-function">(<span class="hljs-params">ctx</span>) =&gt;</span> {
<span class="hljs-comment">// Access auth functionality from authPlugin</span>
<span class="hljs-keyword">const</span> authResult = ctx.<span class="hljs-property">plugins</span>.<span class="hljs-title function_">verifyAuth</span>(ctx); <span class="hljs-comment">// Example method name</span>
<span class="hljs-keyword">if</span> (!authResult.<span class="hljs-property">authenticated</span>) {
ctx.<span class="hljs-keyword">throw</span>(<span class="hljs-number">401</span>, <span class="hljs-string">&quot;Not authenticated&quot;</span>);
}
ctx.<span class="hljs-title function_">send</span>({ <span class="hljs-attr">user</span>: authResult.<span class="hljs-property">user</span> });
};
</code></pre></p>
<p><em>[cite: Usage pattern <code>ctx.plugins.methodName()</code> shown in tests/app.jet.ts]</em></p>
<hr>
<h2>Creating Plugins</h2>
<p>Creating your own plugins allows you to structure reusable logic cleanly.</p>
<h3>The <code>JetPlugin</code> Class</h3>
<p>JetPath provides a <code>JetPlugin</code> class (or a similar constructor pattern) to structure your plugin.</p>
<pre><code class="language-typescript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">JetPlugin</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;jetpath&quot;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">JetContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;jetpath&quot;</span>; <span class="hljs-comment">// For typing ctx if needed</span>
<p><span class="hljs-comment">// Define the interface for the API your plugin will expose on ctx.plugins</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">MyPluginAPI</span> {
<span class="hljs-attr">doSomething</span>: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">input</span>: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">string</span>;
<span class="hljs-comment">// Add other methods/properties</span>
}</p>
<p><span class="hljs-comment">// Define options your plugin might accept</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">MyPluginOptions</span> {
<span class="hljs-attr">prefix</span>?: <span class="hljs-built_in">string</span>;
}</p>
<p><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createMyPlugin</span>(<span class="hljs-params"><span class="hljs-attr">options</span>: <span class="hljs-title class_">MyPluginOptions</span> = {}</span>): <span class="hljs-title class_">JetPlugin</span> {
<span class="hljs-keyword">const</span> prefix = options.<span class="hljs-property">prefix</span> || <span class="hljs-string">&quot;DEFAULT&quot;</span>;</p>
<p><span class="hljs-comment">// Instantiate plugin</span>
<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JetPlugin</span>({
<span class="hljs-comment">// The executor function runs when app.use() is called</span>
<span class="hljs-keyword">async</span> <span class="hljs-title function_">executor</span>(<span class="hljs-comment">/* Optional args like app instance might be passed */</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">MyPluginAPI</span>&gt; {
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string"><code>Initializing MyPlugin with prefix: &lt;span class=&quot;hljs-subst&quot;&gt;${prefix}&lt;/span&gt;</code></span>);</p>
<pre><code>  &lt;span class=&quot;hljs-comment&quot;&gt;// === Perform Initialization ===&lt;/span&gt;
  &lt;span class=&quot;hljs-comment&quot;&gt;// e.g., connect to a service, load config&lt;/span&gt;
  &lt;span class=&quot;hljs-comment&quot;&gt;// const externalClient = await connectToService();&lt;/span&gt;

  &lt;span class=&quot;hljs-comment&quot;&gt;// === Return the Plugin&amp;#x27;s Public API ===&lt;/span&gt;
  &lt;span class=&quot;hljs-comment&quot;&gt;// These methods become available on ctx.plugins&lt;/span&gt;
  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; {
    &lt;span class=&quot;hljs-attr&quot;&gt;doSomething&lt;/span&gt;: (&lt;span class=&quot;hljs-attr&quot;&gt;input&lt;/span&gt;: &lt;span class=&quot;hljs-built_in&quot;&gt;string&lt;/span&gt;): &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;string&lt;/span&gt; =&amp;gt;&lt;/span&gt; {
      &lt;span class=&quot;hljs-comment&quot;&gt;// This function has access to &amp;#x27;prefix&amp;#x27; and &amp;#x27;externalClient&amp;#x27;&lt;/span&gt;
      &lt;span class=&quot;hljs-comment&quot;&gt;// via closure scope.&lt;/span&gt;
      &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&amp;quot;MyPlugin doing something...&amp;quot;&lt;/span&gt;);
      &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;`&lt;span class=&quot;hljs-subst&quot;&gt;${prefix}&lt;/span&gt;: Processed &lt;span class=&quot;hljs-subst&quot;&gt;${input}&lt;/span&gt;`&lt;/span&gt;;
      &lt;span class=&quot;hljs-comment&quot;&gt;// Example using initialized client:&lt;/span&gt;
      &lt;span class=&quot;hljs-comment&quot;&gt;// return externalClient.process(input);&lt;/span&gt;
    },
    &lt;span class=&quot;hljs-comment&quot;&gt;// Add other methods...&lt;/span&gt;
  };
}
</code></pre>
<p>});
}
</code></pre></p>
<h3>The <code>executor</code> Function</h3>
<ul>
<li><strong>Purpose:</strong> This function is the core of your plugin. It’s executed when <code>app.use(yourPluginInstance)</code> is called.</li>
<li><strong>Initialization:</strong> Use the <code>executor</code> to perform any setup required by your plugin (e.g., establish database connections, initialize SDKs, read configuration). It can be <code>async</code> if needed.</li>
<li><strong>Return Value:</strong> The <code>executor</code> <strong>must return an object</strong>. The properties and methods of this returned object are merged into the <code>ctx.plugins</code> object, forming the public API of your plugin.</li>
<li><strong>Dependency Scope:</strong> Variables defined <em>outside</em> the returned object but <em>within</em> the <code>executor</code>’s scope (or the factory function’s scope, like <code>prefix</code> and <code>dbClient</code> in the examples) act as private state or encapsulated dependencies for your plugin’s public methods.</li>
</ul>
<h3>Example: Simplified Auth Plugin Structure</h3>
<p>This mirrors the <code>authPlugin</code> structure seen in <code>tests/app.jet.ts</code>.</p>
<pre><code class="language-typescript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">JetPlugin</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;jetpath&quot;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">JetContext</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;jetpath&quot;</span>;
<p><span class="hljs-comment">// Define the API exposed by this plugin</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">AuthPluginAPI</span> {
<span class="hljs-attr">verifyAuth</span>: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">ctx</span>: <span class="hljs-title class_">JetContext</span></span>) =&gt;</span> { <span class="hljs-attr">authenticated</span>: <span class="hljs-built_in">boolean</span>; <span class="hljs-attr">user</span>?: <span class="hljs-built_in">any</span>; <span class="hljs-attr">message</span>?: <span class="hljs-built_in">string</span> };
<span class="hljs-attr">isAdmin</span>: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">ctx</span>: <span class="hljs-title class_">JetContext</span></span>) =&gt;</span> <span class="hljs-built_in">boolean</span>;
}</p>
<p><span class="hljs-comment">// Define configuration options</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">AuthPluginOptions</span> {
<span class="hljs-attr">jwtSecret</span>: <span class="hljs-built_in">string</span>;
<span class="hljs-attr">adminApiKey</span>: <span class="hljs-built_in">string</span>;
}</p>
<p><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createAuthPlugin</span>(<span class="hljs-params"><span class="hljs-attr">options</span>: <span class="hljs-title class_">AuthPluginOptions</span></span>): <span class="hljs-title class_">JetPlugin</span> {
<span class="hljs-comment">// Dependencies are configured here and accessible within the executor's returned methods</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">JWT_SECRET</span> = options.<span class="hljs-property">jwtSecret</span>;
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">ADMIN_API_KEY</span> = options.<span class="hljs-property">adminApiKey</span>;
<span class="hljs-comment">// In-memory store or DB connection could be initialized here</span></p>
<p><span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JetPlugin</span>({
<span class="hljs-title function_">executor</span>(): <span class="hljs-title class_">AuthPluginAPI</span> {
<span class="hljs-comment">// Return the methods that handlers will call via ctx.plugins</span>
<span class="hljs-keyword">return</span> {
<span class="hljs-title function_">verifyAuth</span>(<span class="hljs-params"><span class="hljs-attr">ctx</span>: <span class="hljs-title class_">JetContext</span></span>) {
<span class="hljs-keyword">const</span> authHeader = ctx.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;authorization&quot;</span>);
<span class="hljs-comment">// … logic to validate token using JWT_SECRET …</span>
<span class="hljs-keyword">if</span> (<span class="hljs-comment">/* valid token */</span>) {
<span class="hljs-comment">// const user = findUserFromToken(…);</span>
<span class="hljs-keyword">return</span> { <span class="hljs-attr">authenticated</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">user</span>: { <span class="hljs-attr">id</span>: <span class="hljs-string">'…'</span>, <span class="hljs-attr">role</span>: <span class="hljs-string">'…'</span> } };
}
<span class="hljs-keyword">return</span> { <span class="hljs-attr">authenticated</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">&quot;Invalid token&quot;</span> };
},</p>
<pre><code>    &lt;span class=&quot;hljs-title function_&quot;&gt;isAdmin&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-attr&quot;&gt;ctx&lt;/span&gt;: &lt;span class=&quot;hljs-title class_&quot;&gt;JetContext&lt;/span&gt;&lt;/span&gt;) {
      &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (ctx.&lt;span class=&quot;hljs-title function_&quot;&gt;get&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&amp;quot;x-admin-key&amp;quot;&lt;/span&gt;) === &lt;span class=&quot;hljs-variable constant_&quot;&gt;ADMIN_API_KEY&lt;/span&gt;) {
        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;
      }
      &lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; auth = &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;verifyAuth&lt;/span&gt;(ctx); &lt;span class=&quot;hljs-comment&quot;&gt;// Can call other plugin methods&lt;/span&gt;
      &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; auth.&lt;span class=&quot;hljs-property&quot;&gt;authenticated&lt;/span&gt; &amp;amp;&amp;amp; auth.&lt;span class=&quot;hljs-property&quot;&gt;user&lt;/span&gt;?.&lt;span class=&quot;hljs-property&quot;&gt;role&lt;/span&gt; === &lt;span class=&quot;hljs-string&quot;&gt;&amp;quot;admin&amp;quot;&lt;/span&gt;;
    }
  };
}
</code></pre>
<p>});
}
</code></pre></p>
<p><em>[cite: Based on <code>authPlugin</code> structure in tests/app.jet.ts]</em></p>
<hr>
<h2>Plugin Lifecycle</h2>
<ul>
<li><strong>Instantiation:</strong> You create an instance of your plugin, potentially passing configuration options.</li>
<li><strong>Registration:</strong> You call <code>app.use(pluginInstance)</code>.</li>
<li><strong>Execution:</strong> The plugin’s <code>executor</code> function runs during the <code>app.use()</code> call. Any asynchronous operations within the <code>executor</code> should complete before the server starts fully listening or handling requests (depending on JetPath’s internal handling, usually <code>app.listen</code> awaits plugin initialization implicitly or explicitly).</li>
<li><strong>Runtime:</strong> The methods returned by the <code>executor</code> are available on <code>ctx.plugins</code> for every incoming request handled after the plugin was registered.</li>
</ul>
<hr>
<h2>Best Practices</h2>
<ul>
<li><strong>Single Responsibility:</strong> Design plugins to handle a specific concern (authentication, database access, specific API client).</li>
<li><strong>Clear API:</strong> Define a clear and well-typed interface for the functionality your plugin exposes.</li>
<li><strong>Configuration:</strong> Allow configuration via options passed during instantiation rather than relying solely on global environment variables within the plugin.</li>
<li><strong>Asynchronous Initialization:</strong> Handle connections and other async setup correctly within the <code>executor</code> using <code>async/await</code>.</li>
<li><strong>Documentation:</strong> Document your plugin’s configuration options and the methods it provides on <code>ctx.plugins</code>.</li>
</ul>
<hr>
<h2>Next Steps</h2>
<ul>
<li>See how plugins provide dependencies in the <a href="https://www.google.com/search?q=./dependency-injection.md"><strong>Dependency Injection</strong></a> guide.</li>
<li>Understand how plugin methods are accessed via the <a href="https://www.google.com/search?q=./context.md"><strong>Context (<code>ctx</code>) Object</strong></a>.</li>
</ul>
    </section>
 
 
  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-brand">
          <div class="footer-logo">JetPath</div>
          <p class="footer-tagline">the granular, fast and minimalist framework for Node, Deno and Bun. Embrace new standards!</p>
          <div class="footer-social">
            <a href="https://github.com/CodeDynasty-dev/JetPath" target="_blank" class="footer-social-link">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path
                  d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22">
                </path>
              </svg>
            </a>
            <a href="https://github.com/CodeDynasty-dev/JetPath" target="_blank" class="footer-social-link">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path
                  d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z">
                </path>
              </svg>
            </a>
            <a href="https://github.com/CodeDynasty-dev/JetPath" target="_blank" class="footer-social-link">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
              </svg>
            </a>
            <a href="https://github.com/CodeDynasty-dev/JetPath" target="_blank" class="footer-social-link">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
                <rect x="2" y="9" width="4" height="12"></rect>
                <circle cx="4" cy="4" r="2"></circle>
              </svg>
            </a>
          </div>
        </div>

        <div class="footer-links-group">
          <h4 class="footer-heading">Documentation</h4>
          <ul class="footer-links">
            <li class="footer-link"><a href="/docs/introduction.html">Getting Started</a></li>
            <li class="footer-link"><a href="/docs/installation.html">API Reference</a></li>
            <li class="footer-link"><a href="/docs/installation.html">Installation</a></li>
            <li class="footer-link"><a href="/docs/home-links/toturial.html">Tutorials</a></li>
          </ul>
        </div>

        <div class="footer-links-group">
          <h4 class="footer-heading">Community</h4>
          <ul class="footer-links">
            <li class="footer-link"><a href="https://github.com/CodeDynasty-dev/JetPath" target="_blank">GitHub</a></li>
            <li class="footer-link"><a href="https://discord.com/invite/CodeDynasty" target="_blank">Discord</a></li>
            <li class="footer-link"><a href="https://twitter.com/CodeDynastyDev" target="_blank">Twitter</a></li>
            <li class="footer-link"><a href="https://blog.coddynasty.com" target="_blank">Blog</a></li>
          </ul>
        </div>

        <div class="footer-links-group">
          <h4 class="footer-heading">More</h4>
          <ul class="footer-links"> 
            <li class="footer-link"><a href="/docs/roadmap.html">Roadmap</a></li>
            <li class="footer-link"><a href="https://github.com/codedynasty-dev/jetpath/contributing.md">Contribute</a></li>
            <li class="footer-link"><a href="/docs/sponsors.html">Sponsors</a></li>
          </ul>
        </div>
      </div>

      <div class="footer-bottom">
        <p>&copy; 2025 JetPath. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <script>
    // Header scroll effect
    const header = document.querySelector('.header');
    window.addEventListener('scroll', () => {
      if (window.scrollY > 10) {
        header.classList.add('header-scrolled');
      } else {
        header.classList.remove('header-scrolled');
      }
    });
 

    // Code tabs
    const codeTabs = document.querySelectorAll('.code-tab');
    codeTabs.forEach(tab => {
      tab.addEventListener('click', () => {
        // Remove active class from all tabs
        codeTabs.forEach(t => t.classList.remove('active'));

        // Add active class to clicked tab
        tab.classList.add('active');

        // Hide all code wrappers
        document.querySelectorAll('.code-wrapper').forEach(wrapper => {
          wrapper.classList.remove('active');
        });

        // Show the corresponding code wrapper
        const tabId = tab.getAttribute('data-tab');
        document.getElementById(`${tabId}-code`).classList.add('active');
      });
    });

    // Copy button functionality
    const copyButtons = document.querySelectorAll('.copy-btn');
    copyButtons.forEach(button => {
      button.addEventListener('click', () => {
        const codeId = button.getAttribute('data-code');
        const codeElement = document.querySelector(`#${codeId}-code pre code`);

        navigator.clipboard.writeText(codeElement.textContent).then(() => {
          button.textContent = 'Copied!';
          setTimeout(() => {
            button.textContent = 'Copy';
          }, 2000);
        });
      });
    });

    // Feature buttons
    const featureButtons = document.querySelectorAll('.feature-btn');
    featureButtons.forEach(button => {
      button.addEventListener('click', () => {
        featureButtons.forEach(btn => btn.classList.remove('active'));
        button.classList.add('active');

        // Here you could add logic to show different content based on selected feature
      });
    });

    // Cursor highlight effect
    const cursorHighlight = document.querySelector('.cursor-highlight');

    document.addEventListener('mousemove', (e) => {
      const x = e.clientX;
      const y = e.clientY;

      cursorHighlight.style.opacity = '1';
      cursorHighlight.style.left = `${x}px`;
      cursorHighlight.style.top = `${y}px`;

      const links = document.querySelectorAll('a, button');
      let hovering = false;

      links.forEach(link => {
        if (link.matches(':hover')) {
          hovering = true;
        }
      });

      if (hovering) {
        cursorHighlight.style.opacity = '0.3';
      } else {
        cursorHighlight.style.opacity = '0.1';
      }
    }); 
    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();

        if (this.getAttribute('href') === '#') return;

        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          const headerHeight = document.querySelector('.header').offsetHeight;
          const elementPosition = target.getBoundingClientRect().top;
          const offsetPosition = elementPosition + window.pageYOffset - headerHeight;

          window.scrollTo({
            top: offsetPosition,
            behavior: 'smooth'
          });

          // Close mobile menu if open
          nav.classList.remove('active');
        }
      });
    });


     const sidebarLinks = document.querySelectorAll('.doc-link');
    const contentSections = document.querySelectorAll('article [id]'); // Select elements with IDs within the article

    function highlightSidebarLink() {
        let currentSectionId = '';
        const headerHeight = document.querySelector('.header').offsetHeight;
        const scrollPosition = window.pageYOffset + headerHeight + 50; // Add offset

        contentSections.forEach(section => {
            const sectionTop = section.offsetTop;
            if (scrollPosition >= sectionTop) {
                currentSectionId = section.id;
            }
        });

        sidebarLinks.forEach(link => {
            link.classList.remove('text-[--primary]', 'font-semibold'); // Use Tailwind classes or custom classes
            link.classList.add('text-[--text-light]');
            if (link.getAttribute('href') === `#${currentSectionId}`) {
                link.classList.add('text-[--primary]', 'font-semibold');
                link.classList.remove('text-[--text-light]');
            }
        });
    }

    // Debounce function to limit scroll event handler calls
    function debounce(func, wait = 10, immediate = true) {
        var timeout;
        return function() {
            var context = this, args = arguments;
            var later = function() {
                timeout = null;
                if (!immediate) func.apply(context, args);
            };
            var callNow = immediate && !timeout;
            clearTimeout(timeout);
            timeout = setTimeout(later, wait);
            if (callNow) func.apply(context, args);
        };
    };

    const debouncedHighlight = debounce(highlightSidebarLink, 50);

    window.addEventListener('scroll', debouncedHighlight);
    window.addEventListener('load', highlightSidebarLink); // Initial highlight on load

    // Smooth scrolling for doc links (adjust if existing smooth scroll handles this)
    sidebarLinks.forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const targetId = this.getAttribute('href');
        if (!targetId || targetId === '#') return;

        const targetElement = document.querySelector(targetId);
        if (targetElement) {
          const headerHeight = document.querySelector('.header').offsetHeight;
          const elementPosition = targetElement.getBoundingClientRect().top;
          const offsetPosition = elementPosition + window.pageYOffset - headerHeight - 20; // Extra offset

          window.scrollTo({
            top: offsetPosition,
            behavior: 'smooth'
          });

          // Optionally update URL hash without page jump
          // history.pushState(null, null, targetId);
        }
      });
    });

    // Mobile menu functionality
    const mobileMenuBtn = document.querySelector('.mobile-menu-btn'); 
    const sidebar = document.getElementById('doc-side-bar');
    const mobileOverlay = document.querySelector('.mobile-overlay');

    mobileMenuBtn.addEventListener('click', () => {
      sidebar.classList.toggle('active');
      mobileOverlay.classList.toggle('active');
    });

    mobileOverlay.addEventListener('click', () => {
      sidebar.classList.remove('active');
      mobileOverlay.classList.remove('active');
    });

    // Close menu when clicking outside on mobile
    document.addEventListener('click', (e) => {
      if (window.innerWidth <= 1024 && 
          !sidebar.contains(e.target) && 
          !mobileMenuBtn.contains(e.target) && 
          sidebar.classList.contains('active')) {
        sidebar.classList.remove('active');
        mobileOverlay.classList.remove('active');
      }
    });
  </script>
  <script src="/prism.js"></script>
</body>

</html>

