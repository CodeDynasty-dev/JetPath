<!DOCTYPE html>
<html lang="en">
<!--
  This file is auto-generated by Jetpath.
  Do not edit this file directly. 
  If you want to change the content, please edit the API documentation.
<!-->

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{NAME} API</title>
  <link rel="shortcut icon" href="https://raw.githubusercontent.com/Uiedbook/Jetpath/main/icon.webp"
    type="image/webp" />
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&family=Roboto:wght@300;400;500&display=swap">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pretty-print-json@3.0/dist/css/pretty-print-json.css">
  <script src="https://cdn.jsdelivr.net/npm/pretty-print-json@3.0/dist/pretty-print-json.min.js"></script>


  <link rel="stylesheet" href="https://demo.voidcoders.com/htmldemo/fitgear/main-files/assets/css/animate.css" />
  <script src="https://code.jquery.com/jquery-2.1.0.js" defer></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" defer></script>
  <!-- <link rel=stylesheet href=https://cdn.jsdelivr.net/npm/pretty-print-json@3.0/dist/css/pretty-print-json.css> -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" />
  <!-- <script src=https://cdn.jsdelivr.net/npm/pretty-print-json@3.0/dist/pretty-print-json.min.js></script> -->
  <!-- <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" /> -->
  <style>
    :root {
      --primary-color: JETPATHCOLOR;
      --primary-light: JETPATHCOLOR36;
      --primary-lighter: JETPATHCOLOR2e;
      --primary-dark: JETPATHCOLORb6;
      --primary-border: JETPATHCOLOR5e;
      --primary-gradient: JETPATHCOLOR90;
      --jet-red: #ea4335;
      --jet-yellow: #fbbc04;
      --jet-green: #34a853;
      --text-primary: #202124;
      --text-secondary: #5f6368;
      --text-tertiary: #80868b;
      --surface-1: #ffffff;
      --surface-2: #f8f9fa;
      --surface-3: #f1f3f4;
      --border-color: #dadce0;
      --error-color: #d93025;
      --success-color: #1e8e3e;
      --shadow-1: 0 1px 2px 0 rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
      --shadow-2: 0 1px 3px 0 rgba(60, 64, 67, 0.3), 0 4px 8px 3px rgba(60, 64, 67, 0.15);
      --shadow-3: 0 2px 6px 2px rgba(60, 64, 67, 0.15);
      --radius-sm: 4px;
      --radius-md: 8px;
      --radius-lg: 16px;
      --font-family: 'Google Sans', 'Roboto', -apple-system, BlinkMacSystemFont, sans-serif;
      --mono-font: 'Roboto Mono', monospace;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: var(--font-family);
      color: var(--text-primary);
      background-color: var(--surface-2);
      line-height: 1.5;
      font-size: 14px;
      -webkit-font-smoothing: antialiased;
    }

    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }

    ::-webkit-scrollbar-thumb {
      background-color: #dadce0;
      border-radius: 8px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background-color: #bdc1c6;
    }

    ::-webkit-scrollbar-track {
      background-color: transparent;
    }

    /* Typography */
    h1,
    h2,
    h3,
    h4,
    h5 {
      font-family: 'Google Sans', sans-serif;
      font-weight: 500;
      letter-spacing: -0.01em;
    }

    h1 {
      font-size: 22px;
      line-height: 28px;
    }

    h2 {
      font-size: 18px;
      margin-bottom: 16px;
      color: var(--text-primary);
    }

    h3 {
      font-size: 16px;
      margin-bottom: 16px;
    }

    h4 {
      font-size: 14px;
      margin-bottom: 8px;
      color: var(--text-primary);
    }

    h5 {
      font-size: 14px;
      margin: 0;
    }

    a {
      color: var(--primary-color);
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    /* Layout */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 24px;
    }

    header {
      border-bottom: 1px solid var(--border-color);
      position: sticky;
      top: 0;
      z-index: 100;
      box-shadow: var(--shadow-1);
      /*  */
      background-color: JETPATHCOLOR !important;
      text-align: center;
      color: #fff !important;
      font-size: 24px;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1rem;
      padding: 1rem;
    }

    .header-content {
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 12px 0;
      background-color: var(--primary-color);
      width: 100%;
    }

    .project-info {
      background-color: var(--surface-1);
      border-radius: var(--radius-md);
      padding: 20px 24px;
      margin: 24px 0;
      box-shadow: var(--shadow-1);
      border: 1px solid var(--border-color);
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .project-info span:first-child {
      font-weight: 500;
      color: var(--text-secondary);
    }

    .project-info span:last-child {
      font-size: 14px;
      font-weight: 500;
    }

    .section {
      margin-bottom: 32px;
    }

    .section-title {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 16px;
      padding: 0 4px;
    }

    .content-area {
      background-color: var(--surface-1);
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-1);
      overflow: hidden;
      border: 1px solid var(--border-color);
    }

    /* Cards */
    .card {
      background-color: var(--surface-1);
      border-radius: var(--radius-md);
      margin-bottom: 12px;
      overflow: hidden;
      border: 1px solid var(--border-color);
      transition: box-shadow 0.2s, transform 0.2s;
    }

    .card:hover {
      box-shadow: var(--shadow-2);
    }

    .card-header {
      padding: 12px;
      border-bottom: none;
    }

    .card-header .btn-link {
      padding: 16px 20px;
      width: 100%;
      text-align: left;
      border: none;
      background: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 12px;
      color: var(--text-primary);
      position: relative;
      font-weight: 500;
      text-decoration: none;
      font-family: var(--font-family);
    }

    .card-header .btn-link:hover,
    .card-header .btn-link:focus {
      background-color: var(--surface-2);
      outline: none;
    }

    .card-header .btn-link::after {
      content: '';
      width: 20px;
      height: 20px;
      position: absolute;
      right: 20px;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cpath fill='none' d='M0 0h24v24H0z'/%3E%3Cpath d='M12 15.375l-6-6 1.4-1.4 4.6 4.6 4.6-4.6 1.4 1.4z' fill='%235f6368'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: center;
      transition: transform 0.2s ease;
    }

    .card-header .btn-link[aria-expanded="true"]::after {
      transform: rotate(-180deg);
    }

    .card-body {
      padding: 20px 24px 24px;
      background-color: var(--surface-2);
      border-top: 1px solid var(--border-color);
    }

    /* Form Elements */
    .input-group {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 16px;
    }

    input[type="text"],
    input[type="file"] {
      padding: 8px 12px;
      border: 1px solid var(--border-color);
      border-radius: var(--radius-sm);
      font-family: var(--font-family);
      font-size: 14px;
      width: 100%;
      outline: none;
      background-color: var(--surface-1);
      transition: border 0.2s;
    }

    input[type="text"]:focus,
    input[type="file"]:focus {
      border-color: var(--primary-color);
      box-shadow: 0 0 0 2px rgba(66, 133, 244, 0.2);
    }

    .url-input {
      width: 100%;
      flex: 1;
      padding: 10px 12px;
      border: 1px solid var(--border-color);
      border-radius: var(--radius-sm);
      font-family: var(--font-family);
      font-size: 14px;
      outline: none;
    }

    .url-input:focus {
      border-color: var(--primary-color);
      box-shadow: 0 0 0 2px rgba(66, 133, 244, 0.2);
    }

    select {
      padding: 8px 12px;
      border: 1px solid var(--border-color);
      border-radius: var(--radius-sm);
      background-color: var(--surface-1);
      font-family: var(--font-family);
      font-size: 14px;
      outline: none;
      cursor: pointer;
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%235F6368' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 8px center;
      background-size: 16px;
      padding-right: 32px;
      transition: border 0.2s;
    }

    select:focus {
      border-color: var(--primary-color);
      box-shadow: 0 0 0 2px rgba(66, 133, 244, 0.2);
    }

    /* Buttons */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 8px 16px;
      border-radius: var(--radius-sm);
      font-family: var(--font-family);
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      border: none;
      transition: background-color 0.2s, box-shadow 0.2s;
    }

    .btn-primary {
      background-color: var(--primary-color);
      color: white;
    }

    .btn-primary:hover {
      background-color: #3367d6;
      box-shadow: var(--shadow-1);
    }

    .btn-secondary {
      background-color: transparent;
      color: var(--primary-color);
      border: 1px solid var(--primary-color);
    }

    .btn-secondary:hover {
      background-color: rgba(66, 133, 244, 0.04);
    }

    .test-button {
      background-color: var(--primary-color);
      color: white;
      padding: 0 24px;
      height: 36px;
      border-radius: 4px;
      font-family: var(--font-family);
      font-size: 14px;
      font-weight: 500;
      border: none;
      cursor: pointer;
      transition: background-color 0.2s, box-shadow 0.2s;
      width: auto;
      margin: 16px 0;
      display: inline-flex;
      align-items: center;
    }

    .test-button:hover {
      background-color: #3367d6;
      box-shadow: var(--shadow-1);
    }

    /* HTTP Method Labels */
    span.method {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      min-width: 64px;
      height: 24px;
      border-radius: 12px;
      color: white;
      font-weight: 500;
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    span.GET {
      background-color: var(--primary-color);
    }

    span.POST {
      background-color: var(--jet-green);
    }

    span.PUT {
      background-color: var(--jet-yellow);
      color: var(--text-primary);
    }

    span.DELETE {
      background-color: var(--jet-red);
    }

    /* Request Container */
    .request-container {
      padding: 0;
      margin-bottom: 16px;
    }

    .request-url {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 16px;
      background-color: var(--surface-1);
      border-radius: var(--radius-sm);
      padding: 4px;
      border: 1px solid var(--border-color);
    }

    /* Body Pack */
    .body-pack {
      background-color: var(--surface-1);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-sm);
      padding: 16px;
      margin: 16px 0;
    }

    .body-pack div {
      margin-bottom: 12px;
    }

    .body-pack div:last-child {
      margin-bottom: 0;
    }

    /* Response Container */
    .response-container {
      background-color: var(--surface-1);
      border-radius: var(--radius-sm);
      border: 1px solid var(--border-color);
      padding: 16px;
      margin-top: 16px;
      display: none;
    }

    .response-success {
      color: var(--success-color);
    }

    .response-error {
      color: var(--error-color);
    }

    /* Code Container */
    .code-container {
      background-color: #f5f5f5;
      border-radius: var(--radius-sm);
      overflow: auto;
      margin-top: 8px;
    }

    /* Pretty Print JSON */
    .json-key {
      color: #c5221f;
    }

    .json-value {
      color: #1967d2;
    }

    .json-string {
      color: #188038;
    }

    /* Array Items */
    .array-items,
    .array-cont {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .array-item {
      padding: 16px;
      background-color: var(--surface-3);
      border-radius: var(--radius-sm);
      border: 1px solid var(--border-color);
    }

    /* Payload section */
    .payload {
      margin-top: 16px;
    }

    .payload strong {
      display: block;
      margin-bottom: 8px;
      color: var(--text-secondary);
    }

    #content-type-selector {
      margin: 16px 0;
    }

    #content-type-selector select {
      min-width: 200px;
    }

    /* Comment formatting */
    .comment {
      background-color: var(--surface-1);
      border-radius: var(--radius-md);
      padding: 16px 20px;
      margin-bottom: 20px;
      border-left: 4px solid var(--primary-color);
      font-size: 16px;
      font-weight: 500;
      color: var(--text-primary);
      box-shadow: var(--shadow-1);
    }

    /* Footer */
    footer {
      text-align: center;
      padding: 24px 0;
      color: var(--text-secondary);
      font-size: 12px;
      margin-top: 40px;
      border-top: 1px solid var(--border-color);
    }

    /* Responsive */
    @media (max-width: 768px) {
      .container {
        padding: 0 16px;
      }

      .card-header .btn-link {
        flex-direction: column;
        align-items: flex-start;
        gap: 8px;
        padding: 12px 16px;
      }

      .card-header .btn-link::after {
        top: 12px;
      }

      .input-group {
        flex-direction: column;
        align-items: flex-start;
      }

      .request-url {
        flex-direction: column;
        align-items: flex-start;
      }
    }

  </style>
</head>

<body>
  <header>
    <div class="container">
      <div class="header-content">
        <img src="{LOGO}" alt="{NAME}" style="width: 52px; height: 52px;" />
        <h1>{NAME}</h1>
      </div>
    </div>
  </header>

  <div class="container">
    <div class="project-info">
      <span>Project information</span>
      <span>{INFO}</span>
    </div>

    <div class="section" id="auth-pack">
      <div class="section-title">
        <h2>Authentication</h2>
      </div>
      <div class="content-area">
        <div class="card-body" id="keys"></div>
      </div>
    </div>

    <div class="section">
      <div class="section-title">
        <h2>API Endpoints</h2>
      </div>
      <div class="accordion" id="accordionExample"></div>
    </div>

    <h3 class="section-title">Requests</h3>
    <div id="big-request-container"></div>
  </div>

  <footer>
    <div class="container">
      2024 All rights reserved {NAME}
    </div>
  </footer>
  <script>
    // ? extract of cradova
    function Rhoda(l) {
      const fg = new DocumentFragment();
      for (let ch of l) {
        if (Array.isArray(ch)) {
          fg.appendChild(Rhoda(ch));
        } else {
          if (typeof ch === "function") {
            ch = ch();
            if (typeof ch === "function") {
              ch = ch();
            }
          }
          if (ch instanceof HTMLElement || ch instanceof DocumentFragment) {
            fg.appendChild(ch);
            continue;
          }
          if (typeof ch === "string") {
            fg.appendChild(document.createTextNode(ch));
          }
        }
      }
      return fg;
    }

    const makeElement = (element, ElementChildrenAndPropertyList) => {
      const props = {};
      let text = undefined;
      if (ElementChildrenAndPropertyList.length !== 0) {
        for (let i = 0; i < ElementChildrenAndPropertyList.length; i++) {
          let ch = ElementChildrenAndPropertyList[i];
          if (typeof ch === "function") {
            ch = ch();
          }
          if (ch instanceof HTMLElement || ch instanceof DocumentFragment) {
            element.appendChild(ch);
            continue;
          }
          if (Array.isArray(ch)) {
            element.appendChild(Rhoda(ch));
            continue;
          }
          if (typeof ch === "string") {
            text = ch;
            continue;
          }
          if (typeof ch === "object") {
            Object.assign(props, ch);
            continue;
          }
        }
      } else {
        return element;
      }
      if (typeof props === "object" && element) {
        for (const [prop, value] of Object.entries(props)) {
          if (prop === "style" && typeof value === "object") {
            Object.assign(element.style, value);
            continue;
          }
          if (prop === "href") {
            const href = value || "";
            if (!href.includes("://")) {
              element.addEventListener("click", (e) => {
                e.preventDefault();
                if (href.includes("#")) {
                  const l = href.split("#").at(-1);
                  document.getElementById("#" + l)?.scrollIntoView();
                }
              });
            }
            element.setAttribute(prop, value);
            continue;
          }
          if (prop.includes("data-") || prop.includes("aria-")) {
            element.setAttribute(prop, value);
            continue;
          }
          element[prop] = value;
        }
      }
      if (text !== undefined) {
        element.appendChild(document.createTextNode(text));
      }
      return element;
    };

    const cra = (tag) => {
      return (...Children_and_Properties) =>
        makeElement(document.createElement(tag), Children_and_Properties);
    };
    function $if(condition, ...elements) {
      if (condition) {
        return elements;
      }
    }
    const br = cra("br");
    const button = cra("button");
    const div = cra("div");
    const h4 = cra("h4");
    const h5 = cra("h5");
    const input = cra("input");
    const span = cra("span");
    const strong = cra("strong");
    const svg = (svg, properties) => {
      const span = document.createElement("span");
      span.innerHTML = svg;
      return makeElement(span, properties || []);
    };

    const loading_svg = () =>
      svg(
        '<svg width="200" height="200" viewBox="0 0 100 100" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><g style="transform-origin:50% 50%;transform:scale(.8)"><g style="animation:1s linear -1s infinite normal forwards running bounce-4a226a58-420c-4a1d-a9fe-6078f1e12117;transform-origin:50px 50px;transform:matrix(1,0,0,1,0,0)"><path d="M30 72.889c-8.09 0-14.648-4.099-14.648-9.156v19.611c0 5.057 6.558 9.156 14.648 9.156s14.648-4.099 14.648-9.156V63.733c0 5.057-6.558 9.156-14.648 9.156z" fill="#f8b26a" style="transform-origin:50px 50px;transform:matrix(1,0,0,1,0,0)"/><ellipse cx="30" cy="63.733" rx="14.648" ry="9.156" fill="#f47e60" style="transform-origin:50px 50px;transform:matrix(1,0,0,1,0,0)"/></g><g style="animation:1s linear -.945s infinite normal forwards running bounce-4a226a58-420c-4a1d-a9fe-6078f1e12117;transform-origin:50px 50px;transform:matrix(1,0,0,1,0,0)"><path d="M70 51.889c-8.09 0-14.648-4.099-14.648-9.156v40.611c0 5.057 6.558 9.156 14.648 9.156s14.648-4.099 14.648-9.156V42.733c0 5.057-6.558 9.156-14.648 9.156z" fill="#a0c8d7" style="transform-origin:50px 50px;transform:matrix(1,0,0,1,0,0)"/><ellipse cx="70" cy="42.733" rx="14.648" ry="9.156" fill="#77a4bd" style="transform-origin:50px 50px;transform:matrix(1,0,0,1,0,0)"/></g><g style="animation:1s linear -.89s infinite normal forwards running bounce-4a226a58-420c-4a1d-a9fe-6078f1e12117;transform-origin:50px 50px;transform:matrix(1,0,0,1,0,0)"><path d="M30 25.812c-8.09 0-14.648-4.099-14.648-9.156v38.077c0 5.057 6.558 9.156 14.648 9.156s14.648-4.099 14.648-9.156V16.656c0 5.057-6.558 9.156-14.648 9.156z" fill="rgba(255, 255, 255, 0.804)" style="transform-origin:50px 50px;transform:matrix(1,0,0,1,0,0)"/><ellipse cx="30" cy="16.656" rx="14.648" ry="9.156" fill="#ccc" style="transform-origin:50px 50px;transform:matrix(1,0,0,1,0,0)"/></g><g style="animation:1s linear -.835s infinite normal forwards running bounce-4a226a58-420c-4a1d-a9fe-6078f1e12117;transform-origin:50px 50px;transform:matrix(1,0,0,1,0,0)"><path d="M70 25.812c-8.09 0-14.648-4.099-14.648-9.156v17.077c0 5.057 6.558 9.156 14.648 9.156s14.648-4.099 14.648-9.156V16.656c0 5.057-6.558 9.156-14.648 9.156z" fill="rgba(255, 255, 255, 0.804)" style="transform-origin:50px 50px;transform:matrix(1,0,0,1,0,0)"/><ellipse cx="70" cy="16.656" rx="14.648" ry="9.156" fill="#ccc" style="transform-origin:50px 50px;transform:matrix(1,0,0,1,0,0)"/></g></g><style id="a">@keyframes bounce-4a226a58-420c-4a1d-a9fe-6078f1e12117{0%{animation-timing-function:cubic-bezier(.1361,.2514,.2175,.8786);transform:translate(0,0) scaleY(1)}37%{animation-timing-function:cubic-bezier(.7674,.1844,.8382,.7157);transform:translate(0,-11.988px) scaleY(1)}72%{animation-timing-function:cubic-bezier(.2491,.4828,.4773,.9595);transform:translate(0,0) scaleY(1)}87%{animation-timing-function:cubic-bezier(.5084,.1576,.7399,.5564);transform:translate(0,4.257px) scaleY(.871)}to{transform:translate(0,0) scaleY(1)}}</style></svg>'
      );

    function syntaxHighlight(json) {
      if (typeof json === "string") {
        try {
          json = JSON.parse(json);
        } catch {
        }
      }
      return prettyPrintJson.toHtml(json, {
        indent: 4,
        lineNumbers: true,
        linkUrls: true,
        linksNewTab: true,
        quoteKeys: true,
        trailingCommas: false
      });
    }

    const body = document.getElementById("big-request-container");
    function parsePayload(packer) {
      if (!packer) return;
      const result = {};
      let isSet = false;
      const divs = Array.from(packer.children);
      divs.forEach((div) => {
        const input = div.querySelector("input");
        isSet = true;
        const key = div.querySelector("span").textContent.replace(":", "");
        if (input.type === "file") {
          result[key] = input.files[0];
          return;
        } 
        const parseValue = (value) => {
          if (/^-?\d+$/.test(value) && input.type !== "number") {
            return String(value);
          }
          return value;
        }
        let value = parseValue(input.value);
        result[key.trim()] = value;
      });
      if (!isSet) return;
      return result;
    }
    function parsePayloadData(packer) {
      if (!packer) return;
      const result = {};
      let isSet = false;
      const divs = Array.from(packer.querySelectorAll(".data-input"));
      divs.forEach((div) => {
        isSet = true;
        const keySpans = Array.from(div.querySelectorAll("span"));
        const data = keySpans.map((k) => {
          const input = k.nextElementSibling;
          return { key: k.textContent.replace(":", "").trim(), input, pos: k.parentElement.parentElement.dataset.pos }
        });
        const isArray = div.getAttribute("data-arr"), isObject = div.getAttribute("data-obj"), subOrdinate = div.getAttribute("data-holder");

        for (let k = 0; k < data.length; k++) {
          const { key, input, pos } = data[k]
          if (input.type === "file") {
            result[key] = input.files[0];
            return;
          } 
          const parseValue = (value) => {
            switch (input.type) {
              case "number":
                return Number(value);
                break;
              case "boolean":
                return Boolean(value);
                break;
              case "date":
                return new Date(value);
                break;
              case "datetime":
                return new Date(value);
                break;
              case "time":
                return new Date(value);
                break;
              case "checkbox":
                return Boolean(value);
                break;
              case "email": 
              case "url": 
              case "tel": 
              case "password": 
              case "radio": 
              case "select": 
              case "textarea": 
              case "color": 
              case "search": 
                return String(value); 
                break;
              default:
                break;
            }
            return value;
          }
          let value = parseValue(input.value);
          if (isObject === 'true') {
            if ((result[subOrdinate])) {
              result[subOrdinate][key] = value;
            } else {
              result[subOrdinate] = { [key]: value };
            }
          }
          if (isArray === "true") {
            const position = typeof pos === "string" ? Number(pos) : null;
            if (!Array.isArray(result[subOrdinate])) {
              result[subOrdinate] = []
            }
            if (typeof position === "number") {
              if (Array.isArray(result[subOrdinate])) {
                if (result[subOrdinate][position]) {
                  result[subOrdinate][position][key] = value;
                } else {
                  result[subOrdinate][position] = { [key]: value };
                }
              }
            }
          }
          if (isArray === null && isObject === null) {
            result[key] = value;
          }
        }
      });
      if (!isSet) return;
      console.log(result);
      return result;
    }
    function parsePayloadStructure(api) {
      const packer = div({ className: "body-pack" });
      function createInputField(key, value, type, holder) { 

        if (typeof value === 'object' && !Array.isArray(value)) {
          const nestedDiv = div({
            style: { display: "flex", flexDirection: "column" },
            className: "data-input",
            "data-obj": "true",
            "data-holder": key,
          }, h4(key + ": "));
          Object.entries(value).forEach(([nestedKey, nestedValue]) => {
            nestedDiv.appendChild(createInputField(nestedKey, nestedValue, "obj", key));
          });
          return nestedDiv;
        } else if (Array.isArray(value)) {
          const arrayDiv = div({
            style: { display: "flex", flexDirection: "column" },
            className: "data-input",
            "data-arr": "true",
            "data-holder": key,
          }, typeof value[0] === 'object' ? h4(key + ": ") : span(key + ": "));
          if (value.length > 0) {
            if (typeof value[0] === 'object') {
              const arrayContainer = div({ className: 'array-cont' });
              arrayDiv.appendChild(arrayContainer);
              let pos = 0;
              const addItem = () => {
                const itemDiv = div({ className: 'array-item', "data-pos": pos });
                Object.entries(value[0]).forEach(([arrayKey, arrayValue]) => {
                  itemDiv.appendChild(createInputField(arrayKey, arrayValue, "arr", key));
                });
                arrayContainer.appendChild(itemDiv);
                pos += 1;
              };
              addItem();
              arrayDiv.appendChild(
                button('+ Add Item', {
                  onclick: addItem,
                  className: 'test-button',
                  style: {
                    padding: '0.5rem',
                    fontSize: '14px',
                    marginTop: '10px'
                  }
                })
              );
            } else {
              arrayDiv.appendChild(input({
                type: value[0],
                placeholder: "Enter  " + key + " (comma-separated values) ",
                value: ''
              }));
            }
          }
          return arrayDiv;
        } else {
          return div({ className: "data-input" },
            span(key + ": ", {
              ["data-" + type]: true,
              "data-holder": holder||""
            }),
            input({
              type: /(file|number|string|date|datetime|time|email|url|tel|password|checkbox|radio|select|textarea|hidden|button|submit|reset|image|file|color|month|week|)/.test(value) ? value : "text",
              value: value !== "file" ? value : null,
              placeholder: "Enter " + key
            })
          );
        }
      }

      Object.entries(api).forEach(([key, value]) => {
        packer.appendChild(createInputField(key, value));
      });

      return packer;
    }

    function parseApiDocumentation(apiDocumentation) {
      const requests = apiDocumentation.split("###").map((request) => request.trim()).filter((a) => a !== "");
      return requests.map(parseRequest);
    }

    function parseRequest(requestString) {
      const lines = requestString.split("\\n").map((line) => line.trim());
      const requestLine = lines[0].split(" ");
      const method = requestLine[0];
      const url = requestLine[1];
      const httpVersion = requestLine[2];
      const headers = {};
      for (let i = 1; i < lines.length; i++) {
        if (lines[i] === "") break;
        const [key, value] = lines[i].split(":").map((part) => part.trim());
        headers[key.toLowerCase()] = value;
      }
      const payloadIndex = lines.indexOf("") + 1;
      let payload = payloadIndex !== 0 ? lines.slice(payloadIndex).join("\\n") : null;
      let comment = "";
      if (payload?.includes("#")) {
        comment = payload.slice(payload.indexOf("#") + 1, payload.indexOf("-JETE"));
        payload = payload.replace(["#", comment, "-JETE"].join(""), "");
      }
      return {
        method,
        url,
        httpVersion,
        headers,
        payload,
        comment,
      };
    }
    const apiDocumentation = { JETPATH }.replaceAll("[--host--]", location.origin);
    const apiGlobalHeaders = { JETPATHGH };
    document.getElementById("keys")?.appendChild(parsePayloadStructure(JSON.parse(apiGlobalHeaders)));
    const parsedApi = parseApiDocumentation(apiDocumentation);
    const groupByFirstFeature = (apis) => {
      const results = {};
      const out = [];
      for (let a = 0; a < apis.length; a++) {
        const api = apis[a];
        const top_path = new URL(api?.url).pathname.split("/")[1] || "/";
        if (results[top_path]) {
          results[top_path].push(api);
        } else {
          results[top_path] = [api];
        }
        results[top_path].sort();
      }
      for (const apilist in results) {
        out.push({ comment: apilist });
        out.push(...results[apilist]);
      }
      return out;
    };

    function showApiResponse(response, id) {
      const responseContainer = document.getElementById(id);
      responseContainer.innerHTML = "";
      responseContainer.append(strong("API Response"), br());
      responseContainer.append(div(
        h5(response.status || 404, {
          style: { color: (response.status || 404) < 400 ? "green" : "red" },
        })
      ));
      if (response?.body?.includes("{") || response?.body?.includes("[")) {
        const cid = "x" + Date.now();
        responseContainer.append(div({ className: "code-container" }, div({ id: cid, className: "code" })));
        document.getElementById(cid).innerHTML = syntaxHighlight(response.body);
      } else {
        responseContainer.append(svg("<pre style='background-color:JETPATHCOLOR2e;padding:8px;border-radius:8px;text-wrap:balance; overflow-wrap: break-word;'>" + (response.body || "error") + "</pre>"));
      }
      responseContainer.scrollIntoView({
        behavior: "smooth",
        block: "end",
      });
      responseContainer.style.display = "block";
    }

    const card = (request, i) => {
      const payload = JSON.parse(request.payload?.includes("{") ? request.payload : '0');
      return div({ className: "card" },
        div({ className: "card-header" },
          h5({ className: "mb-0" },
            $if(request.comment, h5(request.comment)),
            button({
              className: "btn btn-link collapsed",
              type: "button",
              "data-toggle": "collapse",
              "data-target": "#collapse" + i,
              "aria-expanded": "false",
              "aria-controls": "collapseTwo",
              style: { overflow: "scroll" },
            },
              span(request.method, { className: "method " + request.method }),
              span(request.url)
            )
          )
        ),
        div({ id: "collapse" + i, className: "collapse", "data-parent": "#accordionExample" },
          div({ className: "card-body" },
            div({ className: "request-container", id: "payload-" + i },
              div(span(request.method, { style: { fontSize: "14px" } }),
                input({ className: "url-input", id: "url-" + i, value: request.url })
              ),
              $if(Object.entries(request.headers).length, () =>
                div(
                  strong("Headers"),
                  Object.entries(request.headers).map((header) => {
                    input({ value: header[0] + ": " + header[1] });
                  })
                )
              ),
              div({ id: "content-type-selector" },
                svg('<select id="content-type-dropdown"><option value="application/json">JSON</option><option value="multipart/form-data">Form Data</option><option value="application/x-www-form-urlencoded">Form URL Encoded</option></select>')
              ),
              $if(payload, () =>
                div({ className: "payload" }, strong("Payload:"), br(), parsePayloadStructure(payload))
              )
            ),
            button("Send Request", {
              className: "test-button",
              async onclick() {
                const updatedRequest = {
                  method: request.method,
                  url: document.getElementById("url-" + i)?.value?.trim(),
                  headers: request.headers,
                  payload: request.payload,
                };
                const keysHeaders = parsePayload(document.getElementById("keys"));
                const requestContainer = document.getElementById("payload-" + i);
                const data = parsePayloadData(requestContainer?.querySelector(".body-pack"));
                document.getElementById("response-" + i).style.display = "flex";
                document.getElementById("response-" + i).innerHTML = "";
                document.getElementById("response-" + i).appendChild(loading_svg());
                const response = await testApi(updatedRequest.method,
                  updatedRequest.url,
                  { ...updatedRequest.headers, ...keysHeaders },
                  data || undefined,
                  requestContainer.getElementsByTagName("select")[0]?.value
                );
                showApiResponse(response, "response-" + i);
              },
            }),
            div({ className: "response-container", id: "response-" + i }, "response")
          )
        )
      );
    };

    groupByFirstFeature(parsedApi).map((request, i) => {
      const requestContainer = div();
      if (!request.url) {
        const comment = span();
        requestContainer.classList.add("comment");
        comment.innerText = request.comment;
        requestContainer.appendChild(comment);
        body.appendChild(requestContainer);
      } else {
        body.appendChild(card(request, i));
      }
    });

    async function testApi(method, url, headers = {}, body, contentType = "application/json") {
      if (contentType !== "multipart/form-data") {
        headers["Content-Type"] = contentType;
      }
      let response;
      try {
        if (contentType === "application/json") {
          response = await fetch(url, {
            method,
            headers,
            body: JSON.stringify(body),
          });
        }
        if (contentType === "multipart/form-data") {
          const formData = new FormData();
          for (const key in body) {
            formData.append(key, body[key]);
          }
          response = await fetch(url, {
            method,
            headers,
            body: formData,
          });
        }
        if (contentType === "application/x-www-form-urlencoded") {
          const urlEncodedData = new URLSearchParams(body).toString();
          response = await fetch(url, {
            method,
            headers,
            body: urlEncodedData,
          });
        }
        const responseBody = await response.text();
        return {
          status: response.status,
          headers: response.headers,
          body: responseBody,
        };
      } catch (error) {
        console.log(error?.message || error);
        return { error: error.message };
      }
    }
  </script>
</body>

</html>
